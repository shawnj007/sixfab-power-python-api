<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 7.4.0" />
    <title>power_api.power_api API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>
                        <a class="pdoc-button module-list-button" href="../power_api.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                            &nbsp;power_api</a>


                        <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                               pattern=".+" required>



                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="function" href="#debug_print">debug_print</a>
            </li>
            <li>
                    <a class="function" href="#millis">millis</a>
            </li>
            <li>
                    <a class="function" href="#delay_ms">delay_ms</a>
            </li>
            <li>
                    <a class="class" href="#SixfabPower">SixfabPower</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SixfabPower.__init__">SixfabPower</a>
                        </li>
                        <li>
                                <a class="variable" href="#SixfabPower.board">board</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_input_temp">get_input_temp</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_input_voltage">get_input_voltage</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_input_current">get_input_current</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_input_power">get_input_power</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_system_temp">get_system_temp</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.send_system_temp">send_system_temp</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_system_voltage">get_system_voltage</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_system_current">get_system_current</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_system_power">get_system_power</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_temp">get_battery_temp</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_temp_qwiic">get_battery_temp_qwiic</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.send_battery_temp">send_battery_temp</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_voltage">get_battery_voltage</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_current">get_battery_current</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_power">get_battery_power</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_level">get_battery_level</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_fan_health">get_fan_health</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_health">get_battery_health</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_fan_speed">get_fan_speed</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_watchdog_status">get_watchdog_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_watchdog_status">set_watchdog_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_rgb_animation">set_rgb_animation</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_rgb_animation">get_rgb_animation</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_fan_automation">set_fan_automation</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_fan_automation">get_fan_automation</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_battery_max_charge_level">set_battery_max_charge_level</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_max_charge_level">get_battery_max_charge_level</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_safe_shutdown_battery_level">set_safe_shutdown_battery_level</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_safe_shutdown_battery_level">get_safe_shutdown_battery_level</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_safe_shutdown_status">set_safe_shutdown_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_safe_shutdown_status">get_safe_shutdown_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_battery_separation_status">set_battery_separation_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_separation_status">get_battery_separation_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_working_mode">get_working_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_button1_status">get_button1_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_button2_status">get_button2_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_rtc_time">set_rtc_time</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_rtc_time">get_rtc_time</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.soft_power_off">soft_power_off</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.hard_reboot">hard_reboot</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.soft_reboot">soft_reboot</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.watchdog_signal">watchdog_signal</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_battery_design_capacity">get_battery_design_capacity</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_battery_design_capacity">set_battery_design_capacity</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.create_scheduled_event">create_scheduled_event</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.create_scheduled_event_with_event">create_scheduled_event_with_event</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_scheduled_event_ids">get_scheduled_event_ids</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.remove_scheduled_event">remove_scheduled_event</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.remove_all_scheduled_events">remove_all_scheduled_events</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_firmware_ver">get_firmware_ver</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.update_firmware">update_firmware</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.clear_program_storage">clear_program_storage</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.reset_mcu">reset_mcu</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.reset_for_boot_update">reset_for_boot_update</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_lpm_status">get_lpm_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_edm_status">get_edm_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_lpm_status">set_lpm_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_edm_status">set_edm_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_fan_mode">set_fan_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_fan_mode">get_fan_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_watchdog_interval">set_watchdog_interval</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_watchdog_interval">get_watchdog_interval</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_power_outage_params">get_power_outage_params</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_power_outage_params">set_power_outage_params</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_power_outage_event_status">get_power_outage_event_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_power_outage_event_status">set_power_outage_event_status</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.get_end_device_alive_threshold">get_end_device_alive_threshold</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.set_end_device_alive_threshold">set_end_device_alive_threshold</a>
                        </li>
                        <li>
                                <a class="function" href="#SixfabPower.restore_factory_defaults">restore_factory_defaults</a>
                        </li>
                </ul>

            </li>
    </ul>



                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
<a href="./../power_api.html">power_api</a><wbr>.power_api    </h1>

                
                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="ch">#!/usr/bin/python3</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">power_api.command</span> <span class="kn">import</span> <span class="n">Command</span>
<span class="kn">from</span> <span class="nn">power_api.definitions</span> <span class="kn">import</span> <span class="n">Definition</span>
<span class="kn">from</span> <span class="nn">power_api.event</span> <span class="kn">import</span> <span class="n">Event</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">command</span> <span class="o">=</span> <span class="n">Command</span><span class="p">()</span>

<span class="c1">#############################################################</span>
<span class="c1">### Communication Protocol ##################################</span>
<span class="c1">#############################################################</span>
<span class="n">buffer_send</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">buffer_receive</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">buffer_recieve_index</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">RESPONSE_DELAY</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">START_BYTE_RECIEVED</span> <span class="o">=</span> <span class="mh">0xDC</span>  <span class="c1"># Start Byte Recieved</span>
<span class="n">START_BYTE_SENT</span> <span class="o">=</span> <span class="mh">0xCD</span>  <span class="c1"># Start Byte Sent</span>
<span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">PROTOCOL_FRAME_SIZE</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">COMMAND_SIZE_FOR_FLOAT</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">COMMAND_SIZE_FOR_DOUBLE</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">COMMAND_SIZE_FOR_UINT8</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">COMMAND_SIZE_FOR_INT64</span> <span class="o">=</span> <span class="mi">15</span>

<span class="n">COMMAND_TYPE_REQUEST</span> <span class="o">=</span> <span class="mh">0x01</span>
<span class="n">COMMAND_TYPE_RESPONSE</span> <span class="o">=</span> <span class="mh">0x02</span>

<span class="n">DEVICE_ADDRESS</span> <span class="o">=</span> <span class="mh">0x41</span>  <span class="c1"># 7 bit address (will be left shifted to add the read write bit)</span>
<span class="n">BATTERY_TEMP_ADDRESS</span> <span class="o">=</span> <span class="mh">0x48</span> <span class="c1"># This one uses when the battery holder is seperated from HAT.</span>

<span class="c1">###########################################</span>
<span class="c1">### Private Methods #######################</span>
<span class="c1">###########################################</span>


<span class="k">def</span> <span class="nf">debug_print</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Function for printing debug message.&quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">millis</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Function for getting time as miliseconds.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">delay_ms</span><span class="p">(</span><span class="n">ms</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Function for delay as miliseconds.&quot;&quot;&quot;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ms</span> <span class="o">/</span> <span class="mf">1000.0</span><span class="p">))</span>


<span class="c1">#############################################################</span>
<span class="c1">### SIXFAB POWER CLASS ######################################</span>
<span class="c1">#############################################################</span>
<span class="k">class</span> <span class="nc">SixfabPower</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; </span>
<span class="sd">    Sixfab Power Class.</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">board</span> <span class="o">=</span> <span class="s2">&quot;Sixfab Raspberry Pi UPS HAT&quot;</span>

    <span class="c1"># Initializer function</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># debug_print(self.board + &quot; Class initialized!&quot;)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># print(&quot;Class Destructed&quot;)</span>
        <span class="k">pass</span>

    <span class="c1">#############################################################</span>
    <span class="c1">### API Call Methods ########################################</span>
    <span class="c1">#############################################################</span>

    <span class="k">def</span> <span class="nf">get_input_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Function for getting input temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------		</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">        timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float </span>
<span class="sd">        PCB temperature of Sixfab Power Management and UPS HAT [Celcius]  </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_TEMP</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span> <span class="o">/</span> <span class="mi">100</span>

    <span class="k">def</span> <span class="nf">get_input_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float </span>
<span class="sd">            input voltage [Volt] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_input_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------			</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float </span>
<span class="sd">            input current [Ampere] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_input_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            input power [Watt] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_system_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting raspberry pi core temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            raspberry pi core temperature [Celcius] </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s2">&quot;vcgencmd measure_temp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;temp=&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">temp</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">send_system_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending raspberry pi core temperature to mcu</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system_temp</span><span class="p">()</span>
        <span class="n">tempInt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_TEMP</span><span class="p">,</span> <span class="n">tempInt</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_system_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float</span>
<span class="sd">            voltage source that supplies raspberry pi and other peripherals [Volt]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_system_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float</span>
<span class="sd">            current that supplies raspberry pi and other peripherals [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_system_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            power that supplies raspberry pi and other peripherals [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            battery temperature [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_TEMP</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span> <span class="o">/</span> <span class="mi">100</span>


    <span class="k">def</span> <span class="nf">get_battery_temp_qwiic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            battery temperature [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">read_word_data</span><span class="p">(</span><span class="n">BATTERY_TEMP_ADDRESS</span><span class="p">)</span>
        <span class="n">high</span><span class="o">=</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">low</span><span class="o">=</span><span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> 

        <span class="n">rawTemp</span> <span class="o">=</span> <span class="p">(</span><span class="n">high</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">low</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">rawTemp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">rawTemp</span> <span class="o">&amp;</span> <span class="mh">0x400</span><span class="p">):</span>
            <span class="n">rawTemp</span> <span class="o">=</span> <span class="p">((</span><span class="o">~</span><span class="n">rawTemp</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7FF</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.125</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">*</span> <span class="mf">0.125</span>
            
        <span class="k">return</span> <span class="n">temp</span>


    <span class="k">def</span> <span class="nf">send_battery_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending battery temperature in battery separated state</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>    
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_battery_temp_qwiic</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tempInt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SEND_BATTERY_TEMPERATURE</span><span class="p">,</span> <span class="n">tempInt</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

            <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">get_battery_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float </span>
<span class="sd">            battery voltage [Volt]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float</span>
<span class="sd">            battery current [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            battery power [Watt]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            battery charge of state as percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">get_fan_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan health</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        health : int</span>
<span class="sd">            &quot;1&quot; for HEALTHY, &quot;2&quot; for BROKEN</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_HEALTH</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">health</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">health</span>

    <span class="k">def</span> <span class="nf">get_battery_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery health</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        health : int</span>
<span class="sd">            battery health as percentage [%] </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_HEALTH</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">health</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">health</span>

    <span class="k">def</span> <span class="nf">get_fan_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan speed</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        speed : int</span>
<span class="sd">            fan speed [RPM] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_SPEED</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">rpm</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">rpm</span>


    <span class="k">def</span> <span class="nf">get_watchdog_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting watchdog status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for WATCHDOG ENABLED, &quot;2&quot; for WATCHDOG DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WATCHDOG_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">set_watchdog_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting watchdog status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : &quot;1&quot; for WATCHDOG ENABLED, &quot;2&quot; for WATCHDOG DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_WATCHDOG_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">set_rgb_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anim_type</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting RGB animation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        anim_type : [1 for DISABLED, 2 for HEARTBEAT, 3 for TEMP_MAP]</span>
<span class="sd">        color : [1 for RED, 2 for GREEN, 3 for BLUE, 4 for YELLOW, 5 for CYAN, 6 for MAGENTA, 7 for WHITE, 8 for BLACK]</span>
<span class="sd">        speed : [1 for SLOW, 2 for NORMAL, 3 for FAST] </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">anim_type</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">speed</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_RGB_ANIMATION</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_rgb_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting RGB animation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        animation : byteArray(3)</span>
<span class="sd">            [anim_type, color, speed]</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        anim_type : Definition Object Property</span>
<span class="sd">            --&gt; Definition.RGB_DISABLED</span>
<span class="sd">            --&gt; Definition.RGB_HEARTBEAT</span>
<span class="sd">            --&gt; Definition.RGB_TEMP_MAP</span>

<span class="sd">        color : Definition Object Property</span>
<span class="sd">            --&gt; Definition.RED</span>
<span class="sd">            --&gt; Definition.GREEN</span>
<span class="sd">            --&gt; Definition.BLUE</span>
<span class="sd">            --&gt; Definition.YELLOW</span>
<span class="sd">            --&gt; Definition.CYAN</span>
<span class="sd">            --&gt; Definition.MAGENTA</span>
<span class="sd">            --&gt; Definition.WHITE</span>
<span class="sd">            --&gt; Definition.BLACK</span>
<span class="sd">        </span>
<span class="sd">        speed : Definition Object Property</span>
<span class="sd">            --&gt; Definition.SLOW</span>
<span class="sd">            --&gt; Definition.NORMAL</span>
<span class="sd">            --&gt; Definition.FAST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_RGB_ANIMATION</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">animation</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">animation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">animation</span>

    <span class="k">def</span> <span class="nf">set_fan_automation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">slow_threshold</span><span class="p">,</span> <span class="n">fast_threshold</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting fan automation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        slow_threshold : int</span>
<span class="sd">            temperature threshold to decide fan working status [min : 0 , max : 100]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">slow_threshold</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">fast_threshold</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_FAN_AUTOMATION</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_fan_automation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan automation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        automation : byteArray(2)</span>
<span class="sd">            [slow_threshold, fast_threshold] [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_AUTOMATION</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>

        <span class="n">fanAutomation</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">fanAutomation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">fanAutomation</span>

    <span class="k">def</span> <span class="nf">set_battery_max_charge_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery max charge level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        level : int</span>
<span class="sd">            battery is charged up to this level in percentage [%] [min : 60 , max : 100]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_MAX_CHARGE_LEVEL</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">get_battery_max_charge_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery max charge level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            battery max charge level in percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_MAX_CHARGE_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">set_safe_shutdown_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        level : int</span>
<span class="sd">            raspberry pi is turned off if battery falls to this level [min : 0 , max : 99]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_SAFE_SHUTDOWN_BATTERY_LEVEL</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">get_safe_shutdown_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            safe shutdown level in percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SAFE_SHUTDOWN_BATTERY_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">set_safe_shutdown_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_SAFE_SHUTDOWN_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_safe_shutdown_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting safe shutdown status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLEDi &quot;2&quot; for DISABLED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SAFE_SHUTDOWN_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_battery_separation_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery separation status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SEPARETED, &quot;2&quot; for NOT SEPARATED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_SEPARATION_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_battery_separation_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery separation status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SEPARATED &quot;2&quot; for NOT SEPARATED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_SEPARATION_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_working_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting working mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        working_mode : int</span>
<span class="sd">            &quot;1&quot; for CHARGING, &quot;2&quot; for FULLY_CHARGED, &quot;3&quot; for BATTERY POWERED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WORKING_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">mode</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">get_button1_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting button 1</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SHORT_PRESS, &quot;2&quot; for LONG_PRESS, &quot;3&quot; for RELEASED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BUTTON1_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_button2_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting button 2</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SHORT_PRESS, &quot;2&quot; for LONG_PRESS, &quot;3&quot; for RELEASED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BUTTON2_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">set_rtc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting time of RTC in MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        time : int</span>
<span class="sd">            epoch time</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_RTC_TIME</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_rtc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_EPOCH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting time of RTC in MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        format : Definition Object Property</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_EPOCH</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_DATE_AND_TIME</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_DATE</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_TIME</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        timestamp : int/str</span>
<span class="sd">            time in chosen format</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_RTC_TIME</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_EPOCH</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">timestamp</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_DATE_AND_TIME</span><span class="p">:</span>
            <span class="n">date_and_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
                <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">date_and_time</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_DATE</span><span class="p">:</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">date</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_TIME</span><span class="p">:</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">time</span>


    <span class="k">def</span> <span class="nf">soft_power_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for checking any soft power off request is exist. If any</span>
<span class="sd">        request exist, raspberry pi turns off by using &quot;sudo shutdown&quot; terminal</span>
<span class="sd">        command in 5 seconds.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for EXIST, &quot;2&quot; for NOT_EXIST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_POWER_OFF</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
        <span class="n">result2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_POWER_OFF</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">result2</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Raspberry Pi will shutdown in 5 seconds!&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;sleep 5 &amp;&amp; sudo shutdown -h now&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result2</span>

        <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

    <span class="k">def</span> <span class="nf">hard_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for hard rebooting</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_HARD_REBOOT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">soft_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for checking any soft reboot request is exist. If any</span>
<span class="sd">        request exist, raspberry pi reboots by using &quot;sudo reboot&quot; terminal</span>
<span class="sd">        command in 5 seconds.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for EXIST, &quot;2&quot; for NOT_EXIST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_REBOOT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_REBOOT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">result2</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Raspberry Pi will shutdown in 5 seconds!&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;sleep 5 &amp;&amp; sudo reboot&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result2</span>

        <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

    <span class="k">def</span> <span class="nf">watchdog_signal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending watchdog signal</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_WATCHDOG_SIGNAL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_battery_design_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery design capacity</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        capacity : int</span>
<span class="sd">            battery design capacity in [mAh]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_DESIGN_CAPACITY</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">capacity</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">capacity</span>

    <span class="k">def</span> <span class="nf">set_battery_design_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery design capacity</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        capacity : int</span>
<span class="sd">            battery design capacity in [mAh] [min : 100 , max : 10000]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_DESIGN_CAPACITY</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">create_scheduled_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event_id</span><span class="p">,</span>
        <span class="n">schedule_type</span><span class="p">,</span>
        <span class="n">repeat</span><span class="p">,</span>
        <span class="n">time_or_interval</span><span class="p">,</span>
        <span class="n">interval_type</span><span class="p">,</span>
        <span class="n">repeat_period</span><span class="p">,</span>
        <span class="n">action</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for creating scheduling event</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event_id : int </span>
<span class="sd">            id to describe events indivudially</span>

<span class="sd">        schedule_type : Definition Object Property</span>
<span class="sd">            --&gt; Definition.NO_EVENT</span>
<span class="sd">            --&gt; Definition.EVENT_TIME</span>
<span class="sd">            --&gt; Definition.EVENT_INTERVAL</span>

<span class="sd">        repeat : Definition Object Property</span>
<span class="sd">            --&gt; Definition.EVENT_ONE_SHOT</span>
<span class="sd">            --&gt; Definition.EVENT_REPEATED</span>

<span class="sd">        time_or_interval : int</span>
<span class="sd">            daily_epoch_time in seconds or interval (Checkout *Notes for daily_exact_time)</span>

<span class="sd">        interval_type : Definition Object Property </span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_SEC</span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_MIN</span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_HOUR </span>

<span class="sd">        repeat_period : int</span>
<span class="sd">            day_factor (Checkout *Notes)</span>

<span class="sd">        action : int</span>
<span class="sd">            --&gt; &quot;1&quot; for START</span>
<span class="sd">            --&gt; &quot;2&quot; for HARD SHUTDOWN</span>
<span class="sd">            --&gt; &quot;3&quot; for SOFT SHUTDOWN</span>
<span class="sd">            --&gt; &quot;4&quot; for HARD REBOOT</span>
<span class="sd">            --&gt; &quot;5&quot; for SOFT REBOOT</span>

<span class="sd">         timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        1) Calculation of daily_exact_time :</span>
<span class="sd">        daily exact_time formula: epoch_time_local % (24*60*60)</span>
<span class="sd">        </span>
<span class="sd">        daily exact time example: </span>
<span class="sd">        --&gt; Friday, March 27, 2020 11:19:00 PM GMT+03:00</span>
<span class="sd">        --&gt; epoch_local = 1585340340 (In this case local : GMT+3)</span>
<span class="sd">        --&gt; daily exact_time = 1585340340 % 86400 = 73140</span>
<span class="sd">        </span>
<span class="sd">        2) Calculation of day_factor 								 </span>
<span class="sd">        [monday] --&gt; Bit 0</span>
<span class="sd">        [tuesday] --&gt; Bit 1</span>
<span class="sd">        [wednesday] --&gt; Bit 2</span>
<span class="sd">        [thursday] --&gt; Bit 3</span>
<span class="sd">        [friday] --&gt; Bit 4</span>
<span class="sd">        [saturday] --&gt; Bit 5</span>
<span class="sd">        [sunday] --&gt; Bit 6</span>
<span class="sd">        [RESERVED] --&gt; Bit 7 (Default 0)</span>
<span class="sd">                                                     </span>
<span class="sd">        Example Calculation for every day : </span>
<span class="sd">        day_factor = 0b01111111 = 127</span>
<span class="sd">        </span>
<span class="sd">        Example Calculation for (sunday + monday + tuesday) :</span>
<span class="sd">        day_factor = 0b01000011 = 67</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_id</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schedule_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repeat</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_or_interval</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repeat_period</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CREATE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">create_scheduled_event_with_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for creating scheduling event</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event : Event Class Object</span>
<span class="sd">            instance of Event class</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">schedule_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">repeat</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">action</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CREATE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_scheduled_event_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting scheduled event ids</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        ids : byteArray(10)</span>
<span class="sd">            active ids of scheduled events </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SCHEDULED_EVENT_IDS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">ids</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="n">ids_bytes</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ids</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">ids_bytes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ids_bytes</span>

    <span class="k">def</span> <span class="nf">remove_scheduled_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for removing scheduling event with event id</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event_id : int</span>
<span class="sd">            event id that is required to remove</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_REMOVE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">remove_all_scheduled_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for removing all scheduling events</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_REMOVE_ALL_SCHEDULED_EVENTS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_firmware_ver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting firmware version on mcu</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        version : char[8] </span>
<span class="sd">            ver [Ex. v1.00.00]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FIRMWARE_VER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">ver</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
            <span class="n">ver</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span>

        <span class="n">ver_str</span> <span class="o">=</span> <span class="n">ver</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ver_str</span>

    <span class="k">def</span> <span class="nf">update_firmware</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">firmware_file</span><span class="p">,</span> <span class="n">update_method</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">25</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for updating mcu firmware. Do not make any other api call while update call is running.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        firmware_file : str</span>
<span class="sd">            .bin file path</span>
<span class="sd">        update_method : int (optional)</span>
<span class="sd">            &quot;0&quot; for boot_mode_update, &quot;1&quot; for firmware_mode_update (default is 0)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        process : int</span>
<span class="sd">            Process [%] on every step</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">packet_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">requesting_packet_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">packet_size</span> <span class="o">=</span> <span class="mi">20</span>

        <span class="c1"># Calculate packet count</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">firmware_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">all_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">leap_packet_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">%</span> <span class="n">packet_size</span>
        <span class="n">packet_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        
        <span class="k">if</span> <span class="n">leap_packet_size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
             <span class="n">packet_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_size</span><span class="p">)</span>

        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="c1"># open file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">firmware_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">()</span>

        <span class="c1"># Clear program storage for saving new program data</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_program_storage</span><span class="p">()</span>
        <span class="c1"># print(&quot;Program Storage Clear Result: &quot; + str(result))</span>
        <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

        <span class="n">last_process</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># for process bar</span>

        <span class="c1"># choose the update_method</span>
        <span class="k">if</span> <span class="n">update_method</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset_for_boot_update</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="mi">800</span><span class="p">)</span>

        <span class="c1"># If any data exist</span>
        <span class="k">while</span> <span class="n">data</span> <span class="ow">or</span> <span class="p">(</span><span class="n">packet_id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">packet_id</span> <span class="o">!=</span> <span class="n">requesting_packet_id</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">packet_size</span><span class="p">)</span>
                <span class="n">packet_id</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># calculate the process</span>
            <span class="n">process</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">packet_id</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_count</span><span class="p">)</span>
            <span class="n">yielded_value</span> <span class="o">=</span> <span class="bp">None</span>

            <span class="k">if</span> <span class="n">process</span> <span class="o">!=</span> <span class="n">last_process</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">yielded_value</span> <span class="o">!=</span> <span class="n">process</span><span class="p">:</span>
                    <span class="n">yielded_value</span> <span class="o">=</span> <span class="n">process</span>
                    <span class="k">yield</span> <span class="n">process</span>

                <span class="n">last_process</span> <span class="o">=</span> <span class="n">process</span>

            <span class="c1"># send data to MCU</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">packet_id</span> <span class="o">==</span> <span class="n">packet_count</span><span class="p">:</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">create_firmware_update_command</span><span class="p">(</span>
                        <span class="n">packet_count</span><span class="p">,</span>
                        <span class="n">requesting_packet_id</span><span class="p">,</span>
                        <span class="n">data</span><span class="p">,</span>
                        <span class="n">packet_len</span><span class="o">=</span><span class="n">leap_packet_size</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
                    <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">create_firmware_update_command</span><span class="p">(</span>
                        <span class="n">packet_count</span><span class="p">,</span> <span class="n">requesting_packet_id</span><span class="p">,</span> <span class="n">data</span>
                    <span class="p">)</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
                    <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">requesting_packet_id</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
                    <span class="c1"># print(&quot;Last Packet Read --&gt; &quot; + str(packet_id))</span>
                    <span class="c1"># print(&quot;Requesting --&gt; &quot; + str(requesting_packet_id))</span>

                    <span class="c1"># if final packet comes</span>
                    <span class="k">if</span> <span class="n">requesting_packet_id</span> <span class="o">==</span> <span class="mh">0xFFFF</span><span class="p">:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Firmware packages are being writen to flash...&quot;</span><span class="p">)</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Please wait until the application starts!&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">reset_mcu</span><span class="p">()</span>
                        <span class="k">return</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;None Object Exception&quot;</span><span class="p">)</span>

        <span class="c1"># if firmware update doesn&#39;t ended succesfully</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unidentified Runtime Exception&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear_program_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for clearing firmware storage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CLEAR_PROGRAM_STORAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">reset_mcu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for resetting MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESET_MCU</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">reset_for_boot_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for resetting MCU and go to boot mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESET_MCU_FOR_BOOT_UPDATE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>

    
    <span class="k">def</span> <span class="nf">get_lpm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting low power mode status. This mode provides power saving by disabling L1 and L2.</span>
<span class="sd">        L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for LPM ENABLED, &quot;2&quot; for LPM DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_LOW_POWER_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_edm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting easy deployment mode status. The EDM mode provides ulta power saving </span>
<span class="sd">        by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used</span>
<span class="sd">        transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.   </span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for EDM ENABLED, &quot;2&quot; for EDM DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_EASY_DEPLOYMENT_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_lpm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting low power mode status. This mode provides power saving by disabling L1 and L2.</span>
<span class="sd">        L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_LOW_POWER_MODE</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_edm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting easy deployment mode status. The EDM mode provides ulta power saving </span>
<span class="sd">        by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used</span>
<span class="sd">        transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_EASY_DEPLOYMENT_MODE</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
    
    
    <span class="k">def</span> <span class="nf">set_fan_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting fan mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for FAN ON MODE, &quot;2&quot; for FAN OFF MODE, &quot;3&quot; for FAN AUTO MODE </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_FAN_MODE</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_fan_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for FAN ON MODE, &quot;2&quot; for FAN OFF MODE, &quot;3&quot; for FAN AUTO MODE </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_watchdog_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting watchdog interval</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        interval : int</span>
<span class="sd">            time in minutes to trigger recovery actions (min : 4 , max : 180)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span><span class="p">(</span><span class="n">interval</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">interval</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Wrong argument. min:2 max:180&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">2</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_WATCHDOG_INTERVAL</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_watchdog_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting watchdog interval</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            time in minutes to trigger recovery actions</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WATCHDOG_INTERVAL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">interval</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">interval</span>

    <span class="k">def</span> <span class="nf">get_power_outage_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting params on power outage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        sleep_time : int</span>
<span class="sd">            time in [minutes]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_POWER_OUTAGE_PARAMS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">sleep_time</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>

        <span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">4</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">sleep_time</span><span class="p">,</span> <span class="n">run_time</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">set_power_outage_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">,</span> <span class="n">run_time</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting params on power outage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        sleep_time : int</span>
<span class="sd">            time in [minutes]   ( min : 2 , max : 1439 )</span>
<span class="sd">        run_time : int</span>
<span class="sd">            time in [minutes]   ( min : 0 , max : 1437 )   </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">params</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">sleep_time</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sleep_time</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">run_time</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">run_time</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_POWER_OUTAGE_PARAMS</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="mi">4</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    
    <span class="k">def</span> <span class="nf">get_power_outage_event_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting power outage event status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_POWER_OUTAGE_EVENT_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_power_outage_event_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting power outage event status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_POWER_OUTAGE_EVENT_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    
    <span class="k">def</span> <span class="nf">get_end_device_alive_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting current threshold for the end device is accepted alive</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        threshold : int</span>
<span class="sd">            current threshold [mA]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_END_DEVICE_ALIVE_THRESHOLD</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">threshold</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">threshold</span>

    <span class="k">def</span> <span class="nf">set_end_device_alive_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting current threshold for the end device is accepted alive</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        threshold : int</span>
<span class="sd">            current threshold in [mA] (min : 0 , max : 3000)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_END_DEVICE_ALIVE_THRESHOLD</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">restore_factory_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for factory defaults</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESTORE_FACTORY_SETTINGS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
</pre></div>

        </details>

            </section>
                <section id="debug_print">
                            <div class="attr function"><a class="headerlink" href="#debug_print">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">debug_print</span><span class="signature">(message)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">debug_print</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Function for printing debug message.&quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for printing debug message.</p>
</div>


                </section>
                <section id="millis">
                            <div class="attr function"><a class="headerlink" href="#millis">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">millis</span><span class="signature">()</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">millis</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Function for getting time as miliseconds.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting time as miliseconds.</p>
</div>


                </section>
                <section id="delay_ms">
                            <div class="attr function"><a class="headerlink" href="#delay_ms">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">delay_ms</span><span class="signature">(ms)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">delay_ms</span><span class="p">(</span><span class="n">ms</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Function for delay as miliseconds.&quot;&quot;&quot;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ms</span> <span class="o">/</span> <span class="mf">1000.0</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for delay as miliseconds.</p>
</div>


                </section>
                <section id="SixfabPower">
                                <div class="attr class">
        <a class="headerlink" href="#SixfabPower">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SixfabPower</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SixfabPower</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; </span>
<span class="sd">    Sixfab Power Class.</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">board</span> <span class="o">=</span> <span class="s2">&quot;Sixfab Raspberry Pi UPS HAT&quot;</span>

    <span class="c1"># Initializer function</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># debug_print(self.board + &quot; Class initialized!&quot;)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># print(&quot;Class Destructed&quot;)</span>
        <span class="k">pass</span>

    <span class="c1">#############################################################</span>
    <span class="c1">### API Call Methods ########################################</span>
    <span class="c1">#############################################################</span>

    <span class="k">def</span> <span class="nf">get_input_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Function for getting input temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------		</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">        timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float </span>
<span class="sd">        PCB temperature of Sixfab Power Management and UPS HAT [Celcius]  </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_TEMP</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span> <span class="o">/</span> <span class="mi">100</span>

    <span class="k">def</span> <span class="nf">get_input_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float </span>
<span class="sd">            input voltage [Volt] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_input_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------			</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float </span>
<span class="sd">            input current [Ampere] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_input_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            input power [Watt] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_system_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting raspberry pi core temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            raspberry pi core temperature [Celcius] </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s2">&quot;vcgencmd measure_temp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;temp=&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">temp</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">send_system_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending raspberry pi core temperature to mcu</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system_temp</span><span class="p">()</span>
        <span class="n">tempInt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_TEMP</span><span class="p">,</span> <span class="n">tempInt</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_system_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float</span>
<span class="sd">            voltage source that supplies raspberry pi and other peripherals [Volt]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_system_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float</span>
<span class="sd">            current that supplies raspberry pi and other peripherals [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_system_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            power that supplies raspberry pi and other peripherals [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            battery temperature [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_TEMP</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span> <span class="o">/</span> <span class="mi">100</span>


    <span class="k">def</span> <span class="nf">get_battery_temp_qwiic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            battery temperature [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">read_word_data</span><span class="p">(</span><span class="n">BATTERY_TEMP_ADDRESS</span><span class="p">)</span>
        <span class="n">high</span><span class="o">=</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">low</span><span class="o">=</span><span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> 

        <span class="n">rawTemp</span> <span class="o">=</span> <span class="p">(</span><span class="n">high</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">low</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">rawTemp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">rawTemp</span> <span class="o">&amp;</span> <span class="mh">0x400</span><span class="p">):</span>
            <span class="n">rawTemp</span> <span class="o">=</span> <span class="p">((</span><span class="o">~</span><span class="n">rawTemp</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7FF</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.125</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">*</span> <span class="mf">0.125</span>
            
        <span class="k">return</span> <span class="n">temp</span>


    <span class="k">def</span> <span class="nf">send_battery_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending battery temperature in battery separated state</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>    
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_battery_temp_qwiic</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tempInt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SEND_BATTERY_TEMPERATURE</span><span class="p">,</span> <span class="n">tempInt</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

            <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">get_battery_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float </span>
<span class="sd">            battery voltage [Volt]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float</span>
<span class="sd">            battery current [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            battery power [Watt]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">get_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            battery charge of state as percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">get_fan_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan health</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        health : int</span>
<span class="sd">            &quot;1&quot; for HEALTHY, &quot;2&quot; for BROKEN</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_HEALTH</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">health</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">health</span>

    <span class="k">def</span> <span class="nf">get_battery_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery health</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        health : int</span>
<span class="sd">            battery health as percentage [%] </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_HEALTH</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">health</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">health</span>

    <span class="k">def</span> <span class="nf">get_fan_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan speed</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        speed : int</span>
<span class="sd">            fan speed [RPM] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_SPEED</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">rpm</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">rpm</span>


    <span class="k">def</span> <span class="nf">get_watchdog_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting watchdog status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for WATCHDOG ENABLED, &quot;2&quot; for WATCHDOG DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WATCHDOG_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">set_watchdog_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting watchdog status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : &quot;1&quot; for WATCHDOG ENABLED, &quot;2&quot; for WATCHDOG DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_WATCHDOG_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">set_rgb_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anim_type</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting RGB animation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        anim_type : [1 for DISABLED, 2 for HEARTBEAT, 3 for TEMP_MAP]</span>
<span class="sd">        color : [1 for RED, 2 for GREEN, 3 for BLUE, 4 for YELLOW, 5 for CYAN, 6 for MAGENTA, 7 for WHITE, 8 for BLACK]</span>
<span class="sd">        speed : [1 for SLOW, 2 for NORMAL, 3 for FAST] </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">anim_type</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">speed</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_RGB_ANIMATION</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_rgb_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting RGB animation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        animation : byteArray(3)</span>
<span class="sd">            [anim_type, color, speed]</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        anim_type : Definition Object Property</span>
<span class="sd">            --&gt; Definition.RGB_DISABLED</span>
<span class="sd">            --&gt; Definition.RGB_HEARTBEAT</span>
<span class="sd">            --&gt; Definition.RGB_TEMP_MAP</span>

<span class="sd">        color : Definition Object Property</span>
<span class="sd">            --&gt; Definition.RED</span>
<span class="sd">            --&gt; Definition.GREEN</span>
<span class="sd">            --&gt; Definition.BLUE</span>
<span class="sd">            --&gt; Definition.YELLOW</span>
<span class="sd">            --&gt; Definition.CYAN</span>
<span class="sd">            --&gt; Definition.MAGENTA</span>
<span class="sd">            --&gt; Definition.WHITE</span>
<span class="sd">            --&gt; Definition.BLACK</span>
<span class="sd">        </span>
<span class="sd">        speed : Definition Object Property</span>
<span class="sd">            --&gt; Definition.SLOW</span>
<span class="sd">            --&gt; Definition.NORMAL</span>
<span class="sd">            --&gt; Definition.FAST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_RGB_ANIMATION</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">animation</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">animation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">animation</span>

    <span class="k">def</span> <span class="nf">set_fan_automation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">slow_threshold</span><span class="p">,</span> <span class="n">fast_threshold</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting fan automation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        slow_threshold : int</span>
<span class="sd">            temperature threshold to decide fan working status [min : 0 , max : 100]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">slow_threshold</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">fast_threshold</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_FAN_AUTOMATION</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_fan_automation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan automation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        automation : byteArray(2)</span>
<span class="sd">            [slow_threshold, fast_threshold] [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_AUTOMATION</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>

        <span class="n">fanAutomation</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">fanAutomation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">fanAutomation</span>

    <span class="k">def</span> <span class="nf">set_battery_max_charge_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery max charge level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        level : int</span>
<span class="sd">            battery is charged up to this level in percentage [%] [min : 60 , max : 100]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_MAX_CHARGE_LEVEL</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">get_battery_max_charge_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery max charge level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            battery max charge level in percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_MAX_CHARGE_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">set_safe_shutdown_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        level : int</span>
<span class="sd">            raspberry pi is turned off if battery falls to this level [min : 0 , max : 99]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_SAFE_SHUTDOWN_BATTERY_LEVEL</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">get_safe_shutdown_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            safe shutdown level in percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SAFE_SHUTDOWN_BATTERY_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">set_safe_shutdown_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_SAFE_SHUTDOWN_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_safe_shutdown_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting safe shutdown status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLEDi &quot;2&quot; for DISABLED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SAFE_SHUTDOWN_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_battery_separation_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery separation status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SEPARETED, &quot;2&quot; for NOT SEPARATED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_SEPARATION_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_battery_separation_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery separation status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SEPARATED &quot;2&quot; for NOT SEPARATED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_SEPARATION_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_working_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting working mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        working_mode : int</span>
<span class="sd">            &quot;1&quot; for CHARGING, &quot;2&quot; for FULLY_CHARGED, &quot;3&quot; for BATTERY POWERED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WORKING_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">mode</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">mode</span>

    <span class="k">def</span> <span class="nf">get_button1_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting button 1</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SHORT_PRESS, &quot;2&quot; for LONG_PRESS, &quot;3&quot; for RELEASED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BUTTON1_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_button2_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting button 2</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SHORT_PRESS, &quot;2&quot; for LONG_PRESS, &quot;3&quot; for RELEASED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BUTTON2_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">set_rtc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting time of RTC in MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        time : int</span>
<span class="sd">            epoch time</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_RTC_TIME</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_rtc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_EPOCH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting time of RTC in MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        format : Definition Object Property</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_EPOCH</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_DATE_AND_TIME</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_DATE</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_TIME</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        timestamp : int/str</span>
<span class="sd">            time in chosen format</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_RTC_TIME</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_EPOCH</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">timestamp</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_DATE_AND_TIME</span><span class="p">:</span>
            <span class="n">date_and_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
                <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">date_and_time</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_DATE</span><span class="p">:</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">date</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_TIME</span><span class="p">:</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">time</span>


    <span class="k">def</span> <span class="nf">soft_power_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for checking any soft power off request is exist. If any</span>
<span class="sd">        request exist, raspberry pi turns off by using &quot;sudo shutdown&quot; terminal</span>
<span class="sd">        command in 5 seconds.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for EXIST, &quot;2&quot; for NOT_EXIST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_POWER_OFF</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
        <span class="n">result2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_POWER_OFF</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">result2</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Raspberry Pi will shutdown in 5 seconds!&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;sleep 5 &amp;&amp; sudo shutdown -h now&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result2</span>

        <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

    <span class="k">def</span> <span class="nf">hard_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for hard rebooting</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_HARD_REBOOT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">soft_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for checking any soft reboot request is exist. If any</span>
<span class="sd">        request exist, raspberry pi reboots by using &quot;sudo reboot&quot; terminal</span>
<span class="sd">        command in 5 seconds.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for EXIST, &quot;2&quot; for NOT_EXIST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_REBOOT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_REBOOT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">result2</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Raspberry Pi will shutdown in 5 seconds!&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;sleep 5 &amp;&amp; sudo reboot&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result2</span>

        <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

    <span class="k">def</span> <span class="nf">watchdog_signal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending watchdog signal</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_WATCHDOG_SIGNAL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">get_battery_design_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery design capacity</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        capacity : int</span>
<span class="sd">            battery design capacity in [mAh]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_DESIGN_CAPACITY</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">capacity</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">capacity</span>

    <span class="k">def</span> <span class="nf">set_battery_design_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery design capacity</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        capacity : int</span>
<span class="sd">            battery design capacity in [mAh] [min : 100 , max : 10000]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_DESIGN_CAPACITY</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">create_scheduled_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event_id</span><span class="p">,</span>
        <span class="n">schedule_type</span><span class="p">,</span>
        <span class="n">repeat</span><span class="p">,</span>
        <span class="n">time_or_interval</span><span class="p">,</span>
        <span class="n">interval_type</span><span class="p">,</span>
        <span class="n">repeat_period</span><span class="p">,</span>
        <span class="n">action</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for creating scheduling event</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event_id : int </span>
<span class="sd">            id to describe events indivudially</span>

<span class="sd">        schedule_type : Definition Object Property</span>
<span class="sd">            --&gt; Definition.NO_EVENT</span>
<span class="sd">            --&gt; Definition.EVENT_TIME</span>
<span class="sd">            --&gt; Definition.EVENT_INTERVAL</span>

<span class="sd">        repeat : Definition Object Property</span>
<span class="sd">            --&gt; Definition.EVENT_ONE_SHOT</span>
<span class="sd">            --&gt; Definition.EVENT_REPEATED</span>

<span class="sd">        time_or_interval : int</span>
<span class="sd">            daily_epoch_time in seconds or interval (Checkout *Notes for daily_exact_time)</span>

<span class="sd">        interval_type : Definition Object Property </span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_SEC</span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_MIN</span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_HOUR </span>

<span class="sd">        repeat_period : int</span>
<span class="sd">            day_factor (Checkout *Notes)</span>

<span class="sd">        action : int</span>
<span class="sd">            --&gt; &quot;1&quot; for START</span>
<span class="sd">            --&gt; &quot;2&quot; for HARD SHUTDOWN</span>
<span class="sd">            --&gt; &quot;3&quot; for SOFT SHUTDOWN</span>
<span class="sd">            --&gt; &quot;4&quot; for HARD REBOOT</span>
<span class="sd">            --&gt; &quot;5&quot; for SOFT REBOOT</span>

<span class="sd">         timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        1) Calculation of daily_exact_time :</span>
<span class="sd">        daily exact_time formula: epoch_time_local % (24*60*60)</span>
<span class="sd">        </span>
<span class="sd">        daily exact time example: </span>
<span class="sd">        --&gt; Friday, March 27, 2020 11:19:00 PM GMT+03:00</span>
<span class="sd">        --&gt; epoch_local = 1585340340 (In this case local : GMT+3)</span>
<span class="sd">        --&gt; daily exact_time = 1585340340 % 86400 = 73140</span>
<span class="sd">        </span>
<span class="sd">        2) Calculation of day_factor 								 </span>
<span class="sd">        [monday] --&gt; Bit 0</span>
<span class="sd">        [tuesday] --&gt; Bit 1</span>
<span class="sd">        [wednesday] --&gt; Bit 2</span>
<span class="sd">        [thursday] --&gt; Bit 3</span>
<span class="sd">        [friday] --&gt; Bit 4</span>
<span class="sd">        [saturday] --&gt; Bit 5</span>
<span class="sd">        [sunday] --&gt; Bit 6</span>
<span class="sd">        [RESERVED] --&gt; Bit 7 (Default 0)</span>
<span class="sd">                                                     </span>
<span class="sd">        Example Calculation for every day : </span>
<span class="sd">        day_factor = 0b01111111 = 127</span>
<span class="sd">        </span>
<span class="sd">        Example Calculation for (sunday + monday + tuesday) :</span>
<span class="sd">        day_factor = 0b01000011 = 67</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_id</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schedule_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repeat</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_or_interval</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repeat_period</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CREATE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">create_scheduled_event_with_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for creating scheduling event</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event : Event Class Object</span>
<span class="sd">            instance of Event class</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">schedule_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">repeat</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">action</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CREATE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_scheduled_event_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting scheduled event ids</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        ids : byteArray(10)</span>
<span class="sd">            active ids of scheduled events </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SCHEDULED_EVENT_IDS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">ids</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="n">ids_bytes</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ids</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">ids_bytes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ids_bytes</span>

    <span class="k">def</span> <span class="nf">remove_scheduled_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for removing scheduling event with event id</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event_id : int</span>
<span class="sd">            event id that is required to remove</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_REMOVE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">remove_all_scheduled_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for removing all scheduling events</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_REMOVE_ALL_SCHEDULED_EVENTS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_firmware_ver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting firmware version on mcu</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        version : char[8] </span>
<span class="sd">            ver [Ex. v1.00.00]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FIRMWARE_VER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">ver</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
            <span class="n">ver</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span>

        <span class="n">ver_str</span> <span class="o">=</span> <span class="n">ver</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ver_str</span>

    <span class="k">def</span> <span class="nf">update_firmware</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">firmware_file</span><span class="p">,</span> <span class="n">update_method</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">25</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for updating mcu firmware. Do not make any other api call while update call is running.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        firmware_file : str</span>
<span class="sd">            .bin file path</span>
<span class="sd">        update_method : int (optional)</span>
<span class="sd">            &quot;0&quot; for boot_mode_update, &quot;1&quot; for firmware_mode_update (default is 0)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        process : int</span>
<span class="sd">            Process [%] on every step</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">packet_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">requesting_packet_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">packet_size</span> <span class="o">=</span> <span class="mi">20</span>

        <span class="c1"># Calculate packet count</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">firmware_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">all_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">leap_packet_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">%</span> <span class="n">packet_size</span>
        <span class="n">packet_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        
        <span class="k">if</span> <span class="n">leap_packet_size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
             <span class="n">packet_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_size</span><span class="p">)</span>

        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="c1"># open file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">firmware_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">()</span>

        <span class="c1"># Clear program storage for saving new program data</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_program_storage</span><span class="p">()</span>
        <span class="c1"># print(&quot;Program Storage Clear Result: &quot; + str(result))</span>
        <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

        <span class="n">last_process</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># for process bar</span>

        <span class="c1"># choose the update_method</span>
        <span class="k">if</span> <span class="n">update_method</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset_for_boot_update</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="mi">800</span><span class="p">)</span>

        <span class="c1"># If any data exist</span>
        <span class="k">while</span> <span class="n">data</span> <span class="ow">or</span> <span class="p">(</span><span class="n">packet_id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">packet_id</span> <span class="o">!=</span> <span class="n">requesting_packet_id</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">packet_size</span><span class="p">)</span>
                <span class="n">packet_id</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># calculate the process</span>
            <span class="n">process</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">packet_id</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_count</span><span class="p">)</span>
            <span class="n">yielded_value</span> <span class="o">=</span> <span class="bp">None</span>

            <span class="k">if</span> <span class="n">process</span> <span class="o">!=</span> <span class="n">last_process</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">yielded_value</span> <span class="o">!=</span> <span class="n">process</span><span class="p">:</span>
                    <span class="n">yielded_value</span> <span class="o">=</span> <span class="n">process</span>
                    <span class="k">yield</span> <span class="n">process</span>

                <span class="n">last_process</span> <span class="o">=</span> <span class="n">process</span>

            <span class="c1"># send data to MCU</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">packet_id</span> <span class="o">==</span> <span class="n">packet_count</span><span class="p">:</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">create_firmware_update_command</span><span class="p">(</span>
                        <span class="n">packet_count</span><span class="p">,</span>
                        <span class="n">requesting_packet_id</span><span class="p">,</span>
                        <span class="n">data</span><span class="p">,</span>
                        <span class="n">packet_len</span><span class="o">=</span><span class="n">leap_packet_size</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
                    <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">create_firmware_update_command</span><span class="p">(</span>
                        <span class="n">packet_count</span><span class="p">,</span> <span class="n">requesting_packet_id</span><span class="p">,</span> <span class="n">data</span>
                    <span class="p">)</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
                    <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">requesting_packet_id</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
                    <span class="c1"># print(&quot;Last Packet Read --&gt; &quot; + str(packet_id))</span>
                    <span class="c1"># print(&quot;Requesting --&gt; &quot; + str(requesting_packet_id))</span>

                    <span class="c1"># if final packet comes</span>
                    <span class="k">if</span> <span class="n">requesting_packet_id</span> <span class="o">==</span> <span class="mh">0xFFFF</span><span class="p">:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Firmware packages are being writen to flash...&quot;</span><span class="p">)</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Please wait until the application starts!&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">reset_mcu</span><span class="p">()</span>
                        <span class="k">return</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;None Object Exception&quot;</span><span class="p">)</span>

        <span class="c1"># if firmware update doesn&#39;t ended succesfully</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unidentified Runtime Exception&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear_program_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for clearing firmware storage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CLEAR_PROGRAM_STORAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">reset_mcu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for resetting MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESET_MCU</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">reset_for_boot_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for resetting MCU and go to boot mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESET_MCU_FOR_BOOT_UPDATE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>

    
    <span class="k">def</span> <span class="nf">get_lpm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting low power mode status. This mode provides power saving by disabling L1 and L2.</span>
<span class="sd">        L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for LPM ENABLED, &quot;2&quot; for LPM DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_LOW_POWER_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_edm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting easy deployment mode status. The EDM mode provides ulta power saving </span>
<span class="sd">        by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used</span>
<span class="sd">        transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.   </span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for EDM ENABLED, &quot;2&quot; for EDM DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_EASY_DEPLOYMENT_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_lpm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting low power mode status. This mode provides power saving by disabling L1 and L2.</span>
<span class="sd">        L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_LOW_POWER_MODE</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_edm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting easy deployment mode status. The EDM mode provides ulta power saving </span>
<span class="sd">        by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used</span>
<span class="sd">        transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_EASY_DEPLOYMENT_MODE</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
    
    
    <span class="k">def</span> <span class="nf">set_fan_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting fan mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for FAN ON MODE, &quot;2&quot; for FAN OFF MODE, &quot;3&quot; for FAN AUTO MODE </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_FAN_MODE</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_fan_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for FAN ON MODE, &quot;2&quot; for FAN OFF MODE, &quot;3&quot; for FAN AUTO MODE </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_watchdog_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting watchdog interval</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        interval : int</span>
<span class="sd">            time in minutes to trigger recovery actions (min : 4 , max : 180)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span><span class="p">(</span><span class="n">interval</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">interval</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Wrong argument. min:2 max:180&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">2</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_WATCHDOG_INTERVAL</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">get_watchdog_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting watchdog interval</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            time in minutes to trigger recovery actions</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WATCHDOG_INTERVAL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">interval</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">interval</span>

    <span class="k">def</span> <span class="nf">get_power_outage_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting params on power outage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        sleep_time : int</span>
<span class="sd">            time in [minutes]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_POWER_OUTAGE_PARAMS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">sleep_time</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>

        <span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">4</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">sleep_time</span><span class="p">,</span> <span class="n">run_time</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">set_power_outage_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">,</span> <span class="n">run_time</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting params on power outage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        sleep_time : int</span>
<span class="sd">            time in [minutes]   ( min : 2 , max : 1439 )</span>
<span class="sd">        run_time : int</span>
<span class="sd">            time in [minutes]   ( min : 0 , max : 1437 )   </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">params</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">sleep_time</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sleep_time</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">run_time</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">run_time</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_POWER_OUTAGE_PARAMS</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="mi">4</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    
    <span class="k">def</span> <span class="nf">get_power_outage_event_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting power outage event status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_POWER_OUTAGE_EVENT_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">set_power_outage_event_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting power outage event status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_POWER_OUTAGE_EVENT_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>

    
    <span class="k">def</span> <span class="nf">get_end_device_alive_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting current threshold for the end device is accepted alive</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        threshold : int</span>
<span class="sd">            current threshold [mA]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_END_DEVICE_ALIVE_THRESHOLD</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">threshold</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">threshold</span>

    <span class="k">def</span> <span class="nf">set_end_device_alive_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting current threshold for the end device is accepted alive</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        threshold : int</span>
<span class="sd">            current threshold in [mA] (min : 0 , max : 3000)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_END_DEVICE_ALIVE_THRESHOLD</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>


    <span class="k">def</span> <span class="nf">restore_factory_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for factory defaults</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESTORE_FACTORY_SETTINGS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Sixfab Power Class.</p>
</div>


                            <div id="SixfabPower.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SixfabPower</span><span class="signature">()</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># debug_print(self.board + &quot; Class initialized!&quot;)</span>
        <span class="k">pass</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SixfabPower.board" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SixfabPower.board">#&nbsp;&nbsp</a>

        <span class="name">board</span><span class="default_value"> = &#39;Sixfab Raspberry Pi UPS HAT&#39;</span>
    </div>

    

                            </div>
                            <div id="SixfabPower.get_input_temp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_input_temp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_input_temp</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_input_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Function for getting input temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------		</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">        timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float </span>
<span class="sd">        PCB temperature of Sixfab Power Management and UPS HAT [Celcius]  </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_TEMP</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span> <span class="o">/</span> <span class="mi">100</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting input temperature</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>temperature : float 
PCB temperature of Sixfab Power Management and UPS HAT [Celcius]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_input_voltage" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_input_voltage">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_input_voltage</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_input_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float </span>
<span class="sd">            input voltage [Volt] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting input voltage</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>voltage : float 
    input voltage [Volt]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_input_current" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_input_current">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_input_current</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_input_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------			</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float </span>
<span class="sd">            input current [Ampere] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting input current</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>current : float 
    input current [Ampere]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_input_power" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_input_power">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_input_power</span><span class="signature">(self, timeout=50)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_input_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting input power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            input power [Watt] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_INPUT_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting input power</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>power : float
    input power [Watt]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_system_temp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_system_temp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_system_temp</span><span class="signature">(self)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_system_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting raspberry pi core temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            raspberry pi core temperature [Celcius] </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s2">&quot;vcgencmd measure_temp&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;temp=&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">temp</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting raspberry pi core temperature</p>

<h2 id="parameters">Parameters</h2>

<p>None</p>

<h2 id="returns">Returns</h2>

<p>temperature : float
    raspberry pi core temperature [Celcius]</p>
</div>


                            </div>
                            <div id="SixfabPower.send_system_temp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.send_system_temp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">send_system_temp</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">send_system_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending raspberry pi core temperature to mcu</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system_temp</span><span class="p">()</span>
        <span class="n">tempInt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_TEMP</span><span class="p">,</span> <span class="n">tempInt</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for sending raspberry pi core temperature to mcu</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SUCCESS, "2" for FAIL</p>
</div>


                            </div>
                            <div id="SixfabPower.get_system_voltage" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_system_voltage">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_system_voltage</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_system_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float</span>
<span class="sd">            voltage source that supplies raspberry pi and other peripherals [Volt]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting system voltage</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>voltage : float
    voltage source that supplies raspberry pi and other peripherals [Volt]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_system_current" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_system_current">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_system_current</span><span class="signature">(self, timeout=50)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_system_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float</span>
<span class="sd">            current that supplies raspberry pi and other peripherals [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting system current</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>current : float
    current that supplies raspberry pi and other peripherals [Ampere]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_system_power" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_system_power">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_system_power</span><span class="signature">(self, timeout=50)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_system_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting system power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            power that supplies raspberry pi and other peripherals [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SYSTEM_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting system power</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>power : float
    power that supplies raspberry pi and other peripherals [Ampere]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_temp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_temp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_temp</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            battery temperature [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_TEMP</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span> <span class="o">/</span> <span class="mi">100</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery temperature</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>temperature : float
    battery temperature [Celcius]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_temp_qwiic" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_temp_qwiic">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_temp_qwiic</span><span class="signature">(self)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_temp_qwiic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery temperature</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        temperature : float</span>
<span class="sd">            battery temperature [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">word</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">read_word_data</span><span class="p">(</span><span class="n">BATTERY_TEMP_ADDRESS</span><span class="p">)</span>
        <span class="n">high</span><span class="o">=</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">low</span><span class="o">=</span><span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> 

        <span class="n">rawTemp</span> <span class="o">=</span> <span class="p">(</span><span class="n">high</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">low</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">rawTemp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">rawTemp</span> <span class="o">&amp;</span> <span class="mh">0x400</span><span class="p">):</span>
            <span class="n">rawTemp</span> <span class="o">=</span> <span class="p">((</span><span class="o">~</span><span class="n">rawTemp</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7FF</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.125</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">rawTemp</span> <span class="o">*</span> <span class="mf">0.125</span>
            
        <span class="k">return</span> <span class="n">temp</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery temperature</p>

<h2 id="parameters">Parameters</h2>

<p>None</p>

<h2 id="returns">Returns</h2>

<p>temperature : float
    battery temperature [Celcius]</p>
</div>


                            </div>
                            <div id="SixfabPower.send_battery_temp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.send_battery_temp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">send_battery_temp</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">send_battery_temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending battery temperature in battery separated state</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------	</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>    
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_battery_temp_qwiic</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tempInt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SEND_BATTERY_TEMPERATURE</span><span class="p">,</span> <span class="n">tempInt</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

            <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for sending battery temperature in battery separated state</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SUCCESS, "2" for FAIL</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_voltage" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_voltage">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_voltage</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery voltage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        voltage : float </span>
<span class="sd">            battery voltage [Volt]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_VOLTAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">voltage</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery voltage</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>voltage : float 
    battery voltage [Volt]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_current" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_current">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_current</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery current</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        current : float</span>
<span class="sd">            battery current [Ampere]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_CURRENT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">current</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">current</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery current</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>current : float
    battery current [Ampere]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_power" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_power">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_power</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery power</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        power : float</span>
<span class="sd">            battery power [Watt]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_POWER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">power</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">power</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery power</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>power : float
    battery power [Watt]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_level" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_level">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_level</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            battery charge of state as percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">level</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery level</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>level : int
    battery charge of state as percentage [%]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_fan_health" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_fan_health">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_fan_health</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_fan_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan health</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        health : int</span>
<span class="sd">            &quot;1&quot; for HEALTHY, &quot;2&quot; for BROKEN</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_HEALTH</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">health</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">health</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting fan health</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>health : int
    "1" for HEALTHY, "2" for BROKEN</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_health" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_health">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_health</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery health</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        health : int</span>
<span class="sd">            battery health as percentage [%] </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_HEALTH</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">health</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">health</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery health</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>health : int
    battery health as percentage [%]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_fan_speed" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_fan_speed">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_fan_speed</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_fan_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan speed</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        speed : int</span>
<span class="sd">            fan speed [RPM] </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_SPEED</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">rpm</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">rpm</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting fan speed</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>speed : int
    fan speed [RPM]</p>
</div>


                            </div>
                            <div id="SixfabPower.get_watchdog_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_watchdog_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_watchdog_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_watchdog_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting watchdog status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for WATCHDOG ENABLED, &quot;2&quot; for WATCHDOG DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WATCHDOG_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting watchdog status</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for WATCHDOG ENABLED, "2" for WATCHDOG DISABLED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_watchdog_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_watchdog_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_watchdog_status</span><span class="signature">(self, status, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_watchdog_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting watchdog status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : &quot;1&quot; for WATCHDOG ENABLED, &quot;2&quot; for WATCHDOG DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_WATCHDOG_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting watchdog status</p>

<h2 id="parameters">Parameters</h2>

<p>status : "1" for WATCHDOG ENABLED, "2" for WATCHDOG DISABLED
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_rgb_animation" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_rgb_animation">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_rgb_animation</span><span class="signature">(self, anim_type, color, speed, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_rgb_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anim_type</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting RGB animation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        anim_type : [1 for DISABLED, 2 for HEARTBEAT, 3 for TEMP_MAP]</span>
<span class="sd">        color : [1 for RED, 2 for GREEN, 3 for BLUE, 4 for YELLOW, 5 for CYAN, 6 for MAGENTA, 7 for WHITE, 8 for BLACK]</span>
<span class="sd">        speed : [1 for SLOW, 2 for NORMAL, 3 for FAST] </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">anim_type</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">speed</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_RGB_ANIMATION</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting RGB animation</p>

<h2 id="parameters">Parameters</h2>

<p>anim_type : [1 for DISABLED, 2 for HEARTBEAT, 3 for TEMP_MAP]
color : [1 for RED, 2 for GREEN, 3 for BLUE, 4 for YELLOW, 5 for CYAN, 6 for MAGENTA, 7 for WHITE, 8 for BLACK]
speed : [1 for SLOW, 2 for NORMAL, 3 for FAST] 
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_rgb_animation" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_rgb_animation">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_rgb_animation</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_rgb_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting RGB animation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        animation : byteArray(3)</span>
<span class="sd">            [anim_type, color, speed]</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        anim_type : Definition Object Property</span>
<span class="sd">            --&gt; Definition.RGB_DISABLED</span>
<span class="sd">            --&gt; Definition.RGB_HEARTBEAT</span>
<span class="sd">            --&gt; Definition.RGB_TEMP_MAP</span>

<span class="sd">        color : Definition Object Property</span>
<span class="sd">            --&gt; Definition.RED</span>
<span class="sd">            --&gt; Definition.GREEN</span>
<span class="sd">            --&gt; Definition.BLUE</span>
<span class="sd">            --&gt; Definition.YELLOW</span>
<span class="sd">            --&gt; Definition.CYAN</span>
<span class="sd">            --&gt; Definition.MAGENTA</span>
<span class="sd">            --&gt; Definition.WHITE</span>
<span class="sd">            --&gt; Definition.BLACK</span>
<span class="sd">        </span>
<span class="sd">        speed : Definition Object Property</span>
<span class="sd">            --&gt; Definition.SLOW</span>
<span class="sd">            --&gt; Definition.NORMAL</span>
<span class="sd">            --&gt; Definition.FAST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_RGB_ANIMATION</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">animation</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">animation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">animation</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting RGB animation</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>animation : byteArray(3)
    [anim_type, color, speed]</p>

<h2 id="notes">Notes</h2>

<p>anim_type : Definition Object Property
    --> Definition.RGB_DISABLED
    --> Definition.RGB_HEARTBEAT
    --> Definition.RGB_TEMP_MAP</p>

<p>color : Definition Object Property
    --> Definition.RED
    --> Definition.GREEN
    --> Definition.BLUE
    --> Definition.YELLOW
    --> Definition.CYAN
    --> Definition.MAGENTA
    --> Definition.WHITE
    --> Definition.BLACK</p>

<p>speed : Definition Object Property
    --> Definition.SLOW
    --> Definition.NORMAL
    --> Definition.FAST</p>
</div>


                            </div>
                            <div id="SixfabPower.set_fan_automation" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_fan_automation">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_fan_automation</span><span class="signature">(self, slow_threshold, fast_threshold=100, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_fan_automation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">slow_threshold</span><span class="p">,</span> <span class="n">fast_threshold</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting fan automation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        slow_threshold : int</span>
<span class="sd">            temperature threshold to decide fan working status [min : 0 , max : 100]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">slow_threshold</span><span class="p">))</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">fast_threshold</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_FAN_AUTOMATION</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting fan automation</p>

<h2 id="parameters">Parameters</h2>

<p>slow_threshold : int
    temperature threshold to decide fan working status [min : 0 , max : 100]
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_fan_automation" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_fan_automation">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_fan_automation</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_fan_automation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan automation</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        automation : byteArray(2)</span>
<span class="sd">            [slow_threshold, fast_threshold] [Celcius]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_AUTOMATION</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>

        <span class="n">fanAutomation</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">fanAutomation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">fanAutomation</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting fan automation</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>automation : byteArray(2)
    [slow_threshold, fast_threshold] [Celcius]</p>
</div>


                            </div>
                            <div id="SixfabPower.set_battery_max_charge_level" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_battery_max_charge_level">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_battery_max_charge_level</span><span class="signature">(self, level, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_battery_max_charge_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery max charge level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        level : int</span>
<span class="sd">            battery is charged up to this level in percentage [%] [min : 60 , max : 100]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_MAX_CHARGE_LEVEL</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting battery max charge level</p>

<h2 id="parameters">Parameters</h2>

<p>level : int
    battery is charged up to this level in percentage [%] [min : 60 , max : 100]
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_max_charge_level" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_max_charge_level">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_max_charge_level</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_max_charge_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery max charge level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            battery max charge level in percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_MAX_CHARGE_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery max charge level</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>level : int
    battery max charge level in percentage [%]</p>
</div>


                            </div>
                            <div id="SixfabPower.set_safe_shutdown_battery_level" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_safe_shutdown_battery_level">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_safe_shutdown_battery_level</span><span class="signature">(self, level, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_safe_shutdown_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        level : int</span>
<span class="sd">            raspberry pi is turned off if battery falls to this level [min : 0 , max : 99]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_SAFE_SHUTDOWN_BATTERY_LEVEL</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting safe shutdown battery level</p>

<h2 id="parameters">Parameters</h2>

<p>level : int
    raspberry pi is turned off if battery falls to this level [min : 0 , max : 99]
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_safe_shutdown_battery_level" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_safe_shutdown_battery_level">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_safe_shutdown_battery_level</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_safe_shutdown_battery_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown battery level</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        level : int</span>
<span class="sd">            safe shutdown level in percentage [%]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SAFE_SHUTDOWN_BATTERY_LEVEL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">level</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">level</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting safe shutdown battery level</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>level : int
    safe shutdown level in percentage [%]</p>
</div>


                            </div>
                            <div id="SixfabPower.set_safe_shutdown_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_safe_shutdown_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_safe_shutdown_status</span><span class="signature">(self, status, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_safe_shutdown_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting safe shutdown status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_SAFE_SHUTDOWN_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting safe shutdown status</p>

<h2 id="parameters">Parameters</h2>

<p>status : int
    "1" for ENABLED, "2" for DISABLED
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_safe_shutdown_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_safe_shutdown_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_safe_shutdown_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_safe_shutdown_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting safe shutdown status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLEDi &quot;2&quot; for DISABLED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SAFE_SHUTDOWN_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting safe shutdown status</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for ENABLEDi "2" for DISABLED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_battery_separation_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_battery_separation_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_battery_separation_status</span><span class="signature">(self, status, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_battery_separation_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery separation status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SEPARETED, &quot;2&quot; for NOT SEPARATED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_SEPARATION_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting battery separation status</p>

<h2 id="parameters">Parameters</h2>

<p>status : int
    "1" for SEPARETED, "2" for NOT SEPARATED
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_separation_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_separation_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_separation_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_separation_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery separation status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SEPARATED &quot;2&quot; for NOT SEPARATED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_SEPARATION_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery separation status</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for SEPARATED "2" for NOT SEPARATED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_working_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_working_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_working_mode</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_working_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting working mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        working_mode : int</span>
<span class="sd">            &quot;1&quot; for CHARGING, &quot;2&quot; for FULLY_CHARGED, &quot;3&quot; for BATTERY POWERED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WORKING_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">mode</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">mode</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting working mode</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>working_mode : int
    "1" for CHARGING, "2" for FULLY_CHARGED, "3" for BATTERY POWERED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_button1_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_button1_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_button1_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_button1_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting button 1</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SHORT_PRESS, &quot;2&quot; for LONG_PRESS, &quot;3&quot; for RELEASED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BUTTON1_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting button 1</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for SHORT_PRESS, "2" for LONG_PRESS, "3" for RELEASED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_button2_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_button2_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_button2_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_button2_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting button 2</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for SHORT_PRESS, &quot;2&quot; for LONG_PRESS, &quot;3&quot; for RELEASED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BUTTON2_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting button 2</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for SHORT_PRESS, "2" for LONG_PRESS, "3" for RELEASED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_rtc_time" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_rtc_time">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_rtc_time</span><span class="signature">(self, timestamp, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_rtc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting time of RTC in MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        time : int</span>
<span class="sd">            epoch time</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_RTC_TIME</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting time of RTC in MCU</p>

<h2 id="parameters">Parameters</h2>

<p>time : int
    epoch time
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_rtc_time" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_rtc_time">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_rtc_time</span><span class="signature">(self, format=0, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_rtc_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_EPOCH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting time of RTC in MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        format : Definition Object Property</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_EPOCH</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_DATE_AND_TIME</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_DATE</span>
<span class="sd">            --&gt; Definition.TIME_FORMAT_TIME</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        timestamp : int/str</span>
<span class="sd">            time in chosen format</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_RTC_TIME</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_EPOCH</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">timestamp</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_DATE_AND_TIME</span><span class="p">:</span>
            <span class="n">date_and_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
                <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">date_and_time</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_DATE</span><span class="p">:</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">date</span>
        <span class="k">elif</span> <span class="n">format</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">TIME_FORMAT_TIME</span><span class="p">:</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H:%M:%S&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">time</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting time of RTC in MCU</p>

<h2 id="parameters">Parameters</h2>

<p>format : Definition Object Property
    --> Definition.TIME_FORMAT_EPOCH
    --> Definition.TIME_FORMAT_DATE_AND_TIME
    --> Definition.TIME_FORMAT_DATE
    --> Definition.TIME_FORMAT_TIME
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>timestamp : int/str
    time in chosen format</p>
</div>


                            </div>
                            <div id="SixfabPower.soft_power_off" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.soft_power_off">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">soft_power_off</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">soft_power_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for checking any soft power off request is exist. If any</span>
<span class="sd">        request exist, raspberry pi turns off by using &quot;sudo shutdown&quot; terminal</span>
<span class="sd">        command in 5 seconds.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for EXIST, &quot;2&quot; for NOT_EXIST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_POWER_OFF</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
        <span class="n">result2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_POWER_OFF</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">result2</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Raspberry Pi will shutdown in 5 seconds!&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;sleep 5 &amp;&amp; sudo shutdown -h now&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result2</span>

        <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for checking any soft power off request is exist. If any
request exist, raspberry pi turns off by using "sudo shutdown" terminal
command in 5 seconds.</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for EXIST, "2" for NOT_EXIST</p>
</div>


                            </div>
                            <div id="SixfabPower.hard_reboot" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.hard_reboot">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">hard_reboot</span><span class="signature">(self, timeout=100)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">hard_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for hard rebooting</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_HARD_REBOOT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for hard rebooting</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.soft_reboot" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.soft_reboot">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">soft_reboot</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">soft_reboot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for checking any soft reboot request is exist. If any</span>
<span class="sd">        request exist, raspberry pi reboots by using &quot;sudo reboot&quot; terminal</span>
<span class="sd">        command in 5 seconds.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for EXIST, &quot;2&quot; for NOT_EXIST</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_REBOOT</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SOFT_REBOOT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>
            <span class="n">result2</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">result2</span> <span class="o">==</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_OK</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Raspberry Pi will shutdown in 5 seconds!&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;sleep 5 &amp;&amp; sudo reboot&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result2</span>

        <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for checking any soft reboot request is exist. If any
request exist, raspberry pi reboots by using "sudo reboot" terminal
command in 5 seconds.</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for EXIST, "2" for NOT_EXIST</p>
</div>


                            </div>
                            <div id="SixfabPower.watchdog_signal" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.watchdog_signal">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">watchdog_signal</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">watchdog_signal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for sending watchdog signal</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_WATCHDOG_SIGNAL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for sending watchdog signal</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_battery_design_capacity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_battery_design_capacity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_battery_design_capacity</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_battery_design_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting battery design capacity</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        capacity : int</span>
<span class="sd">            battery design capacity in [mAh]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_BATTERY_DESIGN_CAPACITY</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">capacity</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">capacity</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting battery design capacity</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>capacity : int
    battery design capacity in [mAh]</p>
</div>


                            </div>
                            <div id="SixfabPower.set_battery_design_capacity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_battery_design_capacity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_battery_design_capacity</span><span class="signature">(self, capacity, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_battery_design_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting battery design capacity</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        capacity : int</span>
<span class="sd">            battery design capacity in [mAh] [min : 100 , max : 10000]</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_BATTERY_DESIGN_CAPACITY</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting battery design capacity</p>

<h2 id="parameters">Parameters</h2>

<p>capacity : int
    battery design capacity in [mAh] [min : 100 , max : 10000]
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.create_scheduled_event" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.create_scheduled_event">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">create_scheduled_event</span><span class="signature">(
    self,
    event_id,
    schedule_type,
    repeat,
    time_or_interval,
    interval_type,
    repeat_period,
    action,
    timeout=200
)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">create_scheduled_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event_id</span><span class="p">,</span>
        <span class="n">schedule_type</span><span class="p">,</span>
        <span class="n">repeat</span><span class="p">,</span>
        <span class="n">time_or_interval</span><span class="p">,</span>
        <span class="n">interval_type</span><span class="p">,</span>
        <span class="n">repeat_period</span><span class="p">,</span>
        <span class="n">action</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for creating scheduling event</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event_id : int </span>
<span class="sd">            id to describe events indivudially</span>

<span class="sd">        schedule_type : Definition Object Property</span>
<span class="sd">            --&gt; Definition.NO_EVENT</span>
<span class="sd">            --&gt; Definition.EVENT_TIME</span>
<span class="sd">            --&gt; Definition.EVENT_INTERVAL</span>

<span class="sd">        repeat : Definition Object Property</span>
<span class="sd">            --&gt; Definition.EVENT_ONE_SHOT</span>
<span class="sd">            --&gt; Definition.EVENT_REPEATED</span>

<span class="sd">        time_or_interval : int</span>
<span class="sd">            daily_epoch_time in seconds or interval (Checkout *Notes for daily_exact_time)</span>

<span class="sd">        interval_type : Definition Object Property </span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_SEC</span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_MIN</span>
<span class="sd">            --&gt; Definition.INTERVAL_TYPE_HOUR </span>

<span class="sd">        repeat_period : int</span>
<span class="sd">            day_factor (Checkout *Notes)</span>

<span class="sd">        action : int</span>
<span class="sd">            --&gt; &quot;1&quot; for START</span>
<span class="sd">            --&gt; &quot;2&quot; for HARD SHUTDOWN</span>
<span class="sd">            --&gt; &quot;3&quot; for SOFT SHUTDOWN</span>
<span class="sd">            --&gt; &quot;4&quot; for HARD REBOOT</span>
<span class="sd">            --&gt; &quot;5&quot; for SOFT REBOOT</span>

<span class="sd">         timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        1) Calculation of daily_exact_time :</span>
<span class="sd">        daily exact_time formula: epoch_time_local % (24*60*60)</span>
<span class="sd">        </span>
<span class="sd">        daily exact time example: </span>
<span class="sd">        --&gt; Friday, March 27, 2020 11:19:00 PM GMT+03:00</span>
<span class="sd">        --&gt; epoch_local = 1585340340 (In this case local : GMT+3)</span>
<span class="sd">        --&gt; daily exact_time = 1585340340 % 86400 = 73140</span>
<span class="sd">        </span>
<span class="sd">        2) Calculation of day_factor 								 </span>
<span class="sd">        [monday] --&gt; Bit 0</span>
<span class="sd">        [tuesday] --&gt; Bit 1</span>
<span class="sd">        [wednesday] --&gt; Bit 2</span>
<span class="sd">        [thursday] --&gt; Bit 3</span>
<span class="sd">        [friday] --&gt; Bit 4</span>
<span class="sd">        [saturday] --&gt; Bit 5</span>
<span class="sd">        [sunday] --&gt; Bit 6</span>
<span class="sd">        [RESERVED] --&gt; Bit 7 (Default 0)</span>
<span class="sd">                                                     </span>
<span class="sd">        Example Calculation for every day : </span>
<span class="sd">        day_factor = 0b01111111 = 127</span>
<span class="sd">        </span>
<span class="sd">        Example Calculation for (sunday + monday + tuesday) :</span>
<span class="sd">        day_factor = 0b01000011 = 67</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_id</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schedule_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repeat</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time_or_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_or_interval</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">repeat_period</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CREATE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for creating scheduling event</p>

<h2 id="parameters">Parameters</h2>

<p>event_id : int 
    id to describe events indivudially</p>

<p>schedule_type : Definition Object Property
    --> Definition.NO_EVENT
    --> Definition.EVENT_TIME
    --> Definition.EVENT_INTERVAL</p>

<p>repeat : Definition Object Property
    --> Definition.EVENT_ONE_SHOT
    --> Definition.EVENT_REPEATED</p>

<p>time_or_interval : int
    daily_epoch_time in seconds or interval (Checkout *Notes for daily_exact_time)</p>

<p>interval_type : Definition Object Property 
    --> Definition.INTERVAL_TYPE_SEC
    --> Definition.INTERVAL_TYPE_MIN
    --> Definition.INTERVAL_TYPE_HOUR </p>

<p>repeat_period : int
    day_factor (Checkout *Notes)</p>

<p>action : int
    --> "1" for START
    --> "2" for HARD SHUTDOWN
    --> "3" for SOFT SHUTDOWN
    --> "4" for HARD REBOOT
    --> "5" for SOFT REBOOT</p>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="notes">Notes</h2>

<p>1) Calculation of daily_exact_time :
daily exact_time formula: epoch_time_local % (24<em>60</em>60)</p>

<p>daily exact time example: 
--> Friday, March 27, 2020 11:19:00 PM GMT+03:00
--> epoch_local = 1585340340 (In this case local : GMT+3)
--> daily exact_time = 1585340340 % 86400 = 73140</p>

<p>2) Calculation of day_factor <br />
[monday] --> Bit 0
[tuesday] --> Bit 1
[wednesday] --> Bit 2
[thursday] --> Bit 3
[friday] --> Bit 4
[saturday] --> Bit 5
[sunday] --> Bit 6
[RESERVED] --> Bit 7 (Default 0)</p>

<p>Example Calculation for every day : 
day_factor = 0b01111111 = 127</p>

<p>Example Calculation for (sunday + monday + tuesday) :
day_factor = 0b01000011 = 67</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.create_scheduled_event_with_event" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.create_scheduled_event_with_event">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">create_scheduled_event_with_event</span><span class="signature">(self, event, timeout=200)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">create_scheduled_event_with_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for creating scheduling event</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event : Event Class Object</span>
<span class="sd">            instance of Event class</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">schedule_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">repeat</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">time_interval</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
        <span class="n">value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">action</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CREATE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for creating scheduling event</p>

<h2 id="parameters">Parameters</h2>

<p>event : Event Class Object
    instance of Event class
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_scheduled_event_ids" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_scheduled_event_ids">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_scheduled_event_ids</span><span class="signature">(self, timeout=50)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_scheduled_event_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting scheduled event ids</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        ids : byteArray(10)</span>
<span class="sd">            active ids of scheduled events </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_SCHEDULED_EVENT_IDS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">ids</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="n">ids_bytes</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ids</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">ids_bytes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ids_bytes</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting scheduled event ids</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>ids : byteArray(10)
    active ids of scheduled events</p>
</div>


                            </div>
                            <div id="SixfabPower.remove_scheduled_event" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.remove_scheduled_event">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_scheduled_event</span><span class="signature">(self, event_id, timeout=200)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_scheduled_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for removing scheduling event with event id</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        event_id : int</span>
<span class="sd">            event id that is required to remove</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_REMOVE_SCHEDULED_EVENT</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for removing scheduling event with event id</p>

<h2 id="parameters">Parameters</h2>

<p>event_id : int
    event id that is required to remove
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.remove_all_scheduled_events" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.remove_all_scheduled_events">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove_all_scheduled_events</span><span class="signature">(self, timeout=200)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove_all_scheduled_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for removing all scheduling events</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_REMOVE_ALL_SCHEDULED_EVENTS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for removing all scheduling events</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_firmware_ver" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_firmware_ver">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_firmware_ver</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_firmware_ver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting firmware version on mcu</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        version : char[8] </span>
<span class="sd">            ver [Ex. v1.00.00]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FIRMWARE_VER</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">ver</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
            <span class="n">ver</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span>

        <span class="n">ver_str</span> <span class="o">=</span> <span class="n">ver</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ver_str</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting firmware version on mcu</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>version : char[8] 
    ver [Ex. v1.00.00]</p>
</div>


                            </div>
                            <div id="SixfabPower.update_firmware" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.update_firmware">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">update_firmware</span><span class="signature">(self, firmware_file, update_method=0, timeout=25)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">update_firmware</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">firmware_file</span><span class="p">,</span> <span class="n">update_method</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">25</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for updating mcu firmware. Do not make any other api call while update call is running.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        firmware_file : str</span>
<span class="sd">            .bin file path</span>
<span class="sd">        update_method : int (optional)</span>
<span class="sd">            &quot;0&quot; for boot_mode_update, &quot;1&quot; for firmware_mode_update (default is 0)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        process : int</span>
<span class="sd">            Process [%] on every step</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">packet_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">requesting_packet_id</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">packet_size</span> <span class="o">=</span> <span class="mi">20</span>

        <span class="c1"># Calculate packet count</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">firmware_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">all_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">leap_packet_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">%</span> <span class="n">packet_size</span>
        <span class="n">packet_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_size</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        
        <span class="k">if</span> <span class="n">leap_packet_size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
             <span class="n">packet_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_size</span><span class="p">)</span>

        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="c1"># open file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">firmware_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">()</span>

        <span class="c1"># Clear program storage for saving new program data</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_program_storage</span><span class="p">()</span>
        <span class="c1"># print(&quot;Program Storage Clear Result: &quot; + str(result))</span>
        <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Definition</span><span class="o">.</span><span class="n">SET_FAILED</span>

        <span class="n">last_process</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># for process bar</span>

        <span class="c1"># choose the update_method</span>
        <span class="k">if</span> <span class="n">update_method</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset_for_boot_update</span><span class="p">()</span>
            <span class="n">delay_ms</span><span class="p">(</span><span class="mi">800</span><span class="p">)</span>

        <span class="c1"># If any data exist</span>
        <span class="k">while</span> <span class="n">data</span> <span class="ow">or</span> <span class="p">(</span><span class="n">packet_id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">packet_id</span> <span class="o">!=</span> <span class="n">requesting_packet_id</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">packet_size</span><span class="p">)</span>
                <span class="n">packet_id</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># calculate the process</span>
            <span class="n">process</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">packet_id</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="n">packet_count</span><span class="p">)</span>
            <span class="n">yielded_value</span> <span class="o">=</span> <span class="bp">None</span>

            <span class="k">if</span> <span class="n">process</span> <span class="o">!=</span> <span class="n">last_process</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">yielded_value</span> <span class="o">!=</span> <span class="n">process</span><span class="p">:</span>
                    <span class="n">yielded_value</span> <span class="o">=</span> <span class="n">process</span>
                    <span class="k">yield</span> <span class="n">process</span>

                <span class="n">last_process</span> <span class="o">=</span> <span class="n">process</span>

            <span class="c1"># send data to MCU</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">packet_id</span> <span class="o">==</span> <span class="n">packet_count</span><span class="p">:</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">create_firmware_update_command</span><span class="p">(</span>
                        <span class="n">packet_count</span><span class="p">,</span>
                        <span class="n">requesting_packet_id</span><span class="p">,</span>
                        <span class="n">data</span><span class="p">,</span>
                        <span class="n">packet_len</span><span class="o">=</span><span class="n">leap_packet_size</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
                    <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">create_firmware_update_command</span><span class="p">(</span>
                        <span class="n">packet_count</span><span class="p">,</span> <span class="n">requesting_packet_id</span><span class="p">,</span> <span class="n">data</span>
                    <span class="p">)</span>
                    <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
                    <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">requesting_packet_id</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">raw</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
                    <span class="c1"># print(&quot;Last Packet Read --&gt; &quot; + str(packet_id))</span>
                    <span class="c1"># print(&quot;Requesting --&gt; &quot; + str(requesting_packet_id))</span>

                    <span class="c1"># if final packet comes</span>
                    <span class="k">if</span> <span class="n">requesting_packet_id</span> <span class="o">==</span> <span class="mh">0xFFFF</span><span class="p">:</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Firmware packages are being writen to flash...&quot;</span><span class="p">)</span>
                        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Please wait until the application starts!&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">reset_mcu</span><span class="p">()</span>
                        <span class="k">return</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;None Object Exception&quot;</span><span class="p">)</span>

        <span class="c1"># if firmware update doesn&#39;t ended succesfully</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unidentified Runtime Exception&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for updating mcu firmware. Do not make any other api call while update call is running.</p>

<h2 id="parameters">Parameters</h2>

<p>firmware_file : str
    .bin file path
update_method : int (optional)
    "0" for boot_mode_update, "1" for firmware_mode_update (default is 0)
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="yields">Yields</h2>

<p>process : int
    Process [%] on every step</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SUCCESS, "2" for FAIL</p>
</div>


                            </div>
                            <div id="SixfabPower.clear_program_storage" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.clear_program_storage">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">clear_program_storage</span><span class="signature">(self, timeout=500)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">clear_program_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for clearing firmware storage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SUCCESS, &quot;2&quot; for FAIL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_CLEAR_PROGRAM_STORAGE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for clearing firmware storage</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SUCCESS, "2" for FAIL</p>
</div>


                            </div>
                            <div id="SixfabPower.reset_mcu" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.reset_mcu">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reset_mcu</span><span class="signature">(self)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reset_mcu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for resetting MCU</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESET_MCU</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for resetting MCU</p>

<h2 id="parameters">Parameters</h2>

<p>None</p>

<h2 id="returns">Returns</h2>

<p>None</p>
</div>


                            </div>
                            <div id="SixfabPower.reset_for_boot_update" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.reset_for_boot_update">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reset_for_boot_update</span><span class="signature">(self)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reset_for_boot_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for resetting MCU and go to boot mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESET_MCU_FOR_BOOT_UPDATE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for resetting MCU and go to boot mode</p>

<h2 id="parameters">Parameters</h2>

<p>None</p>

<h2 id="returns">Returns</h2>

<p>None</p>
</div>


                            </div>
                            <div id="SixfabPower.get_lpm_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_lpm_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_lpm_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_lpm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting low power mode status. This mode provides power saving by disabling L1 and L2.</span>
<span class="sd">        L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for LPM ENABLED, &quot;2&quot; for LPM DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_LOW_POWER_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting low power mode status. This mode provides power saving by disabling L1 and L2.
L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for LPM ENABLED, "2" for LPM DISABLED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_edm_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_edm_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_edm_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_edm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting easy deployment mode status. The EDM mode provides ulta power saving </span>
<span class="sd">        by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used</span>
<span class="sd">        transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.   </span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for EDM ENABLED, &quot;2&quot; for EDM DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_EASY_DEPLOYMENT_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting easy deployment mode status. The EDM mode provides ulta power saving 
by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used
transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.   </p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for EDM ENABLED, "2" for EDM DISABLED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_lpm_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_lpm_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_lpm_status</span><span class="signature">(self, status, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_lpm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting low power mode status. This mode provides power saving by disabling L1 and L2.</span>
<span class="sd">        L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_LOW_POWER_MODE</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting low power mode status. This mode provides power saving by disabling L1 and L2.
L2 LED blinks very 10 seconds for a short time to indicate battery percentage.</p>

<h2 id="parameters">Parameters</h2>

<p>status : int
    "1" for ENABLED, "2" for DISABLED
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_edm_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_edm_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_edm_status</span><span class="signature">(self, status, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_edm_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting easy deployment mode status. The EDM mode provides ulta power saving </span>
<span class="sd">        by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used</span>
<span class="sd">        transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_EASY_DEPLOYMENT_MODE</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting easy deployment mode status. The EDM mode provides ulta power saving 
by disabling all power output on the HAT including end device (like Raspberry Pi). It can be used
transport and easy deployment purpose. It disables automatically when the power source is plugged to HAT.</p>

<h2 id="parameters">Parameters</h2>

<p>status : int
    "1" for ENABLED, "2" for DISABLED
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_fan_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_fan_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_fan_mode</span><span class="signature">(self, mode, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_fan_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting fan mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for FAN ON MODE, &quot;2&quot; for FAN OFF MODE, &quot;3&quot; for FAN AUTO MODE </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_FAN_MODE</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting fan mode</p>

<h2 id="parameters">Parameters</h2>

<p>status : int
    "1" for FAN ON MODE, "2" for FAN OFF MODE, "3" for FAN AUTO MODE 
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_fan_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_fan_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_fan_mode</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_fan_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting fan mode</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for FAN ON MODE, &quot;2&quot; for FAN OFF MODE, &quot;3&quot; for FAN AUTO MODE </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_FAN_MODE</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting fan mode</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for FAN ON MODE, "2" for FAN OFF MODE, "3" for FAN AUTO MODE</p>
</div>


                            </div>
                            <div id="SixfabPower.set_watchdog_interval" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_watchdog_interval">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_watchdog_interval</span><span class="signature">(self, interval, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_watchdog_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting watchdog interval</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        interval : int</span>
<span class="sd">            time in minutes to trigger recovery actions (min : 4 , max : 180)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span><span class="p">(</span><span class="n">interval</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">interval</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Wrong argument. min:2 max:180&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">2</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_WATCHDOG_INTERVAL</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting watchdog interval</p>

<h2 id="parameters">Parameters</h2>

<p>interval : int
    time in minutes to trigger recovery actions (min : 4 , max : 180)
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_watchdog_interval" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_watchdog_interval">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_watchdog_interval</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_watchdog_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting watchdog interval</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            time in minutes to trigger recovery actions</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_WATCHDOG_INTERVAL</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">interval</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">interval</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting watchdog interval</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    time in minutes to trigger recovery actions</p>
</div>


                            </div>
                            <div id="SixfabPower.get_power_outage_params" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_power_outage_params">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_power_outage_params</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_power_outage_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting params on power outage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        sleep_time : int</span>
<span class="sd">            time in [minutes]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_POWER_OUTAGE_PARAMS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT32</span><span class="p">)</span>

        <span class="n">sleep_time</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>

        <span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">4</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT32</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">sleep_time</span><span class="p">,</span> <span class="n">run_time</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting params on power outage</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>sleep_time : int
    time in [minutes]</p>
</div>


                            </div>
                            <div id="SixfabPower.set_power_outage_params" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_power_outage_params">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_power_outage_params</span><span class="signature">(self, sleep_time, run_time, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_power_outage_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">,</span> <span class="n">run_time</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting params on power outage</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        sleep_time : int</span>
<span class="sd">            time in [minutes]   ( min : 2 , max : 1439 )</span>
<span class="sd">        run_time : int</span>
<span class="sd">            time in [minutes]   ( min : 0 , max : 1437 )   </span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>
<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">params</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">sleep_time</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sleep_time</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">run_time</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">run_time</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_POWER_OUTAGE_PARAMS</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="mi">4</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting params on power outage</p>

<h2 id="parameters">Parameters</h2>

<p>sleep_time : int
    time in [minutes]   ( min : 2 , max : 1439 )
run_time : int
    time in [minutes]   ( min : 0 , max : 1437 ) <br />
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_power_outage_event_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_power_outage_event_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_power_outage_event_status</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_power_outage_event_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting power outage event status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_POWER_OUTAGE_EVENT_STATUS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting power outage event status</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>status : int
    "1" for ENABLED, "2" for DISABLED</p>
</div>


                            </div>
                            <div id="SixfabPower.set_power_outage_event_status" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_power_outage_event_status">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_power_outage_event_status</span><span class="signature">(self, status, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_power_outage_event_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting power outage event status</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        status : int</span>
<span class="sd">            &quot;1&quot; for ENABLED, &quot;2&quot; for DISABLED</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET OK, &quot;2&quot; for SET FAILED</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_POWER_OUTAGE_EVENT_STATUS</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting power outage event status</p>

<h2 id="parameters">Parameters</h2>

<p>status : int
    "1" for ENABLED, "2" for DISABLED
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET OK, "2" for SET FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.get_end_device_alive_threshold" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.get_end_device_alive_threshold">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_end_device_alive_threshold</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_end_device_alive_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for getting current threshold for the end device is accepted alive</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        threshold : int</span>
<span class="sd">            current threshold [mA]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_GET_END_DEVICE_ALIVE_THRESHOLD</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_INT16</span><span class="p">)</span>

        <span class="n">threshold</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span>
            <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span> <span class="p">:</span> <span class="n">COMMAND_SIZE_FOR_INT16</span> <span class="o">-</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;big&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">threshold</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for getting current threshold for the end device is accepted alive</p>

<h2 id="parameters">Parameters</h2>

<p>timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>threshold : int
    current threshold [mA]</p>
</div>


                            </div>
                            <div id="SixfabPower.set_end_device_alive_threshold" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.set_end_device_alive_threshold">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_end_device_alive_threshold</span><span class="signature">(self, threshold, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_end_device_alive_threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for setting current threshold for the end device is accepted alive</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        threshold : int</span>
<span class="sd">            current threshold in [mA] (min : 0 , max : 3000)</span>
<span class="sd">        timeout : int (optional)</span>
<span class="sd">            timeout while receiving the response (default is RESPONSE_DELAY)</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        result : int</span>
<span class="sd">            &quot;1&quot; for SET_OK, &quot;2&quot; for SET_FAILED </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_set_command</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_SET_END_DEVICE_ALIVE_THRESHOLD</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
        <span class="n">delay_ms</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">receive_command</span><span class="p">(</span><span class="n">COMMAND_SIZE_FOR_UINT8</span><span class="p">)</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">raw</span><span class="p">[</span><span class="n">PROTOCOL_HEADER_SIZE</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">status</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for setting current threshold for the end device is accepted alive</p>

<h2 id="parameters">Parameters</h2>

<p>threshold : int
    current threshold in [mA] (min : 0 , max : 3000)
timeout : int (optional)
    timeout while receiving the response (default is RESPONSE_DELAY)</p>

<h2 id="returns">Returns</h2>

<p>result : int
    "1" for SET_OK, "2" for SET_FAILED</p>
</div>


                            </div>
                            <div id="SixfabPower.restore_factory_defaults" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SixfabPower.restore_factory_defaults">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">restore_factory_defaults</span><span class="signature">(self, timeout=10)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">restore_factory_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">RESPONSE_DELAY</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function for factory defaults</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        -----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        ------- </span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span><span class="o">.</span><span class="n">create_command</span><span class="p">(</span><span class="n">command</span><span class="o">.</span><span class="n">PROTOCOL_COMMAND_RESTORE_FACTORY_SETTINGS</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">send_command</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Function for factory defaults</p>

<h2 id="parameters">Parameters</h2>

<p>None</p>

<h2 id="returns">Returns</h2>

<p>None</p>
</div>


                            </div>
                </section>
    </main>
<script>/** elasticlunr - http://weixsong.github.io * Copyright (C) 2017 Oliver Nightingale * Copyright (C) 2017 Wei Song * MIT Licensed */!function(){function e(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.9.5",lunr=t,t.utils={},t.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),t.utils.toString=function(e){return void 0===e||null===e?"":e.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},t.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);-1!==n&&(this.events[e].splice(n,1),0==this.events[e].length&&delete this.events[e])}},t.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)},this)}},t.EventEmitter.prototype.hasHandler=function(e){return e in this.events},t.tokenizer=function(e){if(!arguments.length||null===e||void 0===e)return[];if(Array.isArray(e)){var n=e.filter(function(e){return null===e||void 0===e?!1:!0});n=n.map(function(e){return t.utils.toString(e).toLowerCase()});var i=[];return n.forEach(function(e){var n=e.split(t.tokenizer.seperator);i=i.concat(n)},this),i}return e.toString().trim().toLowerCase().split(t.tokenizer.seperator)},t.tokenizer.defaultSeperator=/[\s\-]+/,t.tokenizer.seperator=t.tokenizer.defaultSeperator,t.tokenizer.setSeperator=function(e){null!==e&&void 0!==e&&"object"==typeof e&&(t.tokenizer.seperator=e)},t.tokenizer.resetSeperator=function(){t.tokenizer.seperator=t.tokenizer.defaultSeperator},t.tokenizer.getSeperator=function(){return t.tokenizer.seperator},t.Pipeline=function(){this._queue=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in t.Pipeline.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[n]=e},t.Pipeline.getRegisteredFunction=function(e){return e in t.Pipeline.registeredFunctions!=!0?null:t.Pipeline.registeredFunctions[e]},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.getRegisteredFunction(e);if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i+1,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i,0,n)},t.Pipeline.prototype.remove=function(e){var t=this._queue.indexOf(e);-1!==t&&this._queue.splice(t,1)},t.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;n>o;o++){for(var r=e[o],s=0;i>s&&(r=this._queue[s](r,o,e),void 0!==r&&null!==r);s++);void 0!==r&&null!==r&&t.push(r)}return t},t.Pipeline.prototype.reset=function(){this._queue=[]},t.Pipeline.prototype.get=function(){return this._queue},t.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.DocumentStore,this.index={},this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},t.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;n._fields=e.fields,n._ref=e.ref,n.documentStore=t.DocumentStore.load(e.documentStore),n.pipeline=t.Pipeline.load(e.pipeline),n.index={};for(var i in e.index)n.index[i]=t.InvertedIndex.load(e.index[i]);return n},t.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new t.InvertedIndex,this},t.Index.prototype.setRef=function(e){return this._ref=e,this},t.Index.prototype.saveDocument=function(e){return this.documentStore=new t.DocumentStore(e),this},t.Index.prototype.addDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.addDoc(i,e),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));this.documentStore.addFieldLength(i,n,o.length);var r={};o.forEach(function(e){e in r?r[e]+=1:r[e]=1},this);for(var s in r){var u=r[s];u=Math.sqrt(u),this.index[n].addToken(s,{ref:i,tf:u})}},this),n&&this.eventEmitter.emit("add",e,this)}},t.Index.prototype.removeDocByRef=function(e){if(e&&this.documentStore.isDocStored()!==!1&&this.documentStore.hasDoc(e)){var t=this.documentStore.getDoc(e);this.removeDoc(t,!1)}},t.Index.prototype.removeDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.hasDoc(i)&&(this.documentStore.removeDoc(i),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));o.forEach(function(e){this.index[n].removeToken(e,i)},this)},this),n&&this.eventEmitter.emit("remove",e,this))}},t.Index.prototype.updateDoc=function(e,t){var t=void 0===t?!0:t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},t.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];var i=this.index[t].getDocFreq(e),o=1+Math.log(this.documentStore.length/(i+1));return this._idfCache[n]=o,o},t.Index.prototype.getFields=function(){return this._fields.slice()},t.Index.prototype.search=function(e,n){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var i=null;null!=n&&(i=JSON.stringify(n));for(var o=new t.Configuration(i,this.getFields()).get(),r={},s=Object.keys(e),u=0;u<s.length;u++){var a=s[u];r[a]=this.pipeline.run(t.tokenizer(e[a]))}var l={};for(var c in o){var d=r[c]||r.any;if(d){var f=this.fieldSearch(d,c,o),h=o[c].boost;for(var p in f)f[p]=f[p]*h;for(var p in f)p in l?l[p]+=f[p]:l[p]=f[p]}}var v,g=[];for(var p in l)v={ref:p,score:l[p]},this.documentStore.hasDoc(p)&&(v.doc=this.documentStore.getDoc(p)),g.push(v);return g.sort(function(e,t){return t.score-e.score}),g},t.Index.prototype.fieldSearch=function(e,t,n){var i=n[t].bool,o=n[t].expand,r=n[t].boost,s=null,u={};return 0!==r?(e.forEach(function(e){var n=[e];1==o&&(n=this.index[t].expandToken(e));var r={};n.forEach(function(n){var o=this.index[t].getDocs(n),a=this.idf(n,t);if(s&&"AND"==i){var l={};for(var c in s)c in o&&(l[c]=o[c]);o=l}n==e&&this.fieldSearchStats(u,n,o);for(var c in o){var d=this.index[t].getTermFrequency(n,c),f=this.documentStore.getFieldLength(c,t),h=1;0!=f&&(h=1/Math.sqrt(f));var p=1;n!=e&&(p=.15*(1-(n.length-e.length)/n.length));var v=d*a*h*p;c in r?r[c]+=v:r[c]=v}},this),s=this.mergeScores(s,r,i)},this),s=this.coordNorm(s,u,e.length)):void 0},t.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(var o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},t.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},t.Index.prototype.coordNorm=function(e,t,n){for(var i in e)if(i in t){var o=t[i].length;e[i]=e[i]*o/n}return e},t.Index.prototype.toJSON=function(){var e={};return this._fields.forEach(function(t){e[t]=this.index[t].toJSON()},this),{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:e,pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},t.DocumentStore=function(e){this._save=null===e||void 0===e?!0:e,this.docs={},this.docInfo={},this.length=0},t.DocumentStore.load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},t.DocumentStore.prototype.isDocStored=function(){return this._save},t.DocumentStore.prototype.addDoc=function(t,n){this.hasDoc(t)||this.length++,this.docs[t]=this._save===!0?e(n):null},t.DocumentStore.prototype.getDoc=function(e){return this.hasDoc(e)===!1?null:this.docs[e]},t.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},t.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},t.DocumentStore.prototype.addFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},t.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},t.DocumentStore.prototype.getFieldLength=function(e,t){return null===e||void 0===e?0:e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},t.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},t.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,u="^("+o+")?"+r+o+"("+r+")?$",a="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,c=new RegExp(s),d=new RegExp(a),f=new RegExp(u),h=new RegExp(l),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+o+i+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,D=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,P=/ll$/,k=new RegExp("^"+o+i+"[^aeiouwxy]$"),z=function(n){var i,o,r,s,u,a,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,u=v,s.test(n)?n=n.replace(s,"$1$2"):u.test(n)&&(n=n.replace(u,"$1$2")),s=g,u=m,s.test(n)){var z=s.exec(n);s=c,s.test(z[1])&&(s=y,n=n.replace(s,""))}else if(u.test(n)){var z=u.exec(n);i=z[1],u=h,u.test(i)&&(n=i,u=S,a=x,l=w,u.test(n)?n+="e":a.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=I,s.test(n)){var z=s.exec(n);i=z[1],n=i+"i"}if(s=b,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+e[o])}if(s=E,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+t[o])}if(s=D,u=F,s.test(n)){var z=s.exec(n);i=z[1],s=d,s.test(i)&&(n=i)}else if(u.test(n)){var z=u.exec(n);i=z[1]+z[2],u=d,u.test(i)&&(n=i)}if(s=_,s.test(n)){var z=s.exec(n);i=z[1],s=d,u=f,a=k,(s.test(i)||u.test(i)&&!a.test(i))&&(n=i)}return s=P,u=d,s.test(n)&&u.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return z}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.stopWordFilter=function(e){return e&&t.stopWordFilter.stopWords[e]!==!0?e:void 0},t.clearStopWords=function(){t.stopWordFilter.stopWords={}},t.addStopWords=function(e){null!=e&&Array.isArray(e)!==!1&&e.forEach(function(e){t.stopWordFilter.stopWords[e]=!0},this)},t.resetStopWords=function(){t.stopWordFilter.stopWords=t.defaultStopWords},t.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,"do":!0,does:!0,either:!0,"else":!0,ever:!0,every:!0,"for":!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,"if":!0,"in":!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,"this":!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,"while":!0,who:!0,whom:!0,why:!0,will:!0,"with":!0,would:!0,yet:!0,you:!0,your:!0},t.stopWordFilter.stopWords=t.defaultStopWords,t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(e){if(null===e||void 0===e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.InvertedIndex=function(){this.root={docs:{},df:0}},t.InvertedIndex.load=function(e){var t=new this;return t.root=e.root,t},t.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},t.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},t.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},t.InvertedIndex.prototype.getDocs=function(e){var t=this.getNode(e);return null==t?{}:t.docs},t.InvertedIndex.prototype.getTermFrequency=function(e,t){var n=this.getNode(e);return null==n?0:t in n.docs?n.docs[t].tf:0},t.InvertedIndex.prototype.getDocFreq=function(e){var t=this.getNode(e);return null==t?0:t.df},t.InvertedIndex.prototype.removeToken=function(e,t){if(e){var n=this.getNode(e);null!=n&&t in n.docs&&(delete n.docs[t],n.df-=1)}},t.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var t=t||[];if(void 0==n&&(n=this.getNode(e),null==n))return t;n.df>0&&t.push(e);for(var i in n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},t.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},t.Configuration=function(e,n){var e=e||"";if(void 0==n||null==n)throw new Error("fields should not be null");this.config={};var i;try{i=JSON.parse(e),this.buildUserConfig(i,n)}catch(o){t.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(n)}},t.Configuration.prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},t.Configuration.prototype.buildUserConfig=function(e,n){var i="OR",o=!1;if(this.reset(),"bool"in e&&(i=e.bool||i),"expand"in e&&(o=e.expand||o),"fields"in e)for(var r in e.fields)if(n.indexOf(r)>-1){var s=e.fields[r],u=o;void 0!=s.expand&&(u=s.expand),this.config[r]={boost:s.boost||0===s.boost?s.boost:1,bool:s.bool||i,expand:u}}else t.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(i,o,n)},t.Configuration.prototype.addAllFields2UserConfig=function(e,t,n){n.forEach(function(n){this.config[n]={boost:1,bool:e,expand:t}},this)},t.Configuration.prototype.get=function(){return this.config},t.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;){if(r===e)return o;e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;)e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o];return r>e?o:e>r?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,u=e.elements;;){if(n>o-1||i>r-1)break;s[n]!==u[i]?s[n]<u[i]?n++:s[n]>u[i]&&i++:(t.add(s[n]),n++,i++)}return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){var t,n,i;this.length>=e.length?(t=this,n=e):(t=e,n=this),i=t.clone();for(var o=0,r=n.toArray();o<r.length;o++)i.add(r[o]);return i},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.elasticlunr=t()}(this,function(){return t})}();</script>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let searchIndex, searchErr;

    async function initialize() {
        let docs;
        try {
            let resp = await fetch("../search.json");
            docs = await resp.json();
        } catch (e) {
            searchErr = "Cannot fetch search index.";
            throw e;
        }

        // Also split on html tags. this is a cheap heuristic, but good enough.
        elasticlunr.tokenizer.setSeperator(/[\s\-.;&]+|<[^>]*>/);

        if (docs._isPrebuiltIndex) {
            console.info("using precompiled search index");
            searchIndex = elasticlunr.Index.load(docs);
        } else {
            console.time("building search index");
            searchIndex = elasticlunr(function () {
                this.addField('qualname');
                this.addField('fullname');
                this.addField('doc');
                this.setRef('fullname');
            });
            for (let doc of docs) {
                searchIndex.addDoc(doc);
            }
            console.timeEnd("building search index");
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const search = getSearchTerm();
            if (!search) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!searchIndex) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = searchIndex.search(search, {
                fields: {
                    qualname: {boost: 4},
                    fullname: {boost: 2},
                    doc: {boost: 1},
                },
                expand: true
            });

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(search)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(search)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">(${doc.parameters.join(", ")})</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>